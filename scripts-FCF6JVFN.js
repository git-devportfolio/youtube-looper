function lamejs(){function u1(x){return new Int8Array(x)}function J1(x){return new Int16Array(x)}function E0(x){return new Int32Array(x)}function v0(x){return new Float32Array(x)}function $1(x){return new Float64Array(x)}function X0(x){if(x.length==1)return v0(x[0]);var D=x[0];x=x.slice(1);for(var J=[],G=0;G<D;G++)J.push(X0(x));return J}function b1(x){if(x.length==1)return E0(x[0]);var D=x[0];x=x.slice(1);for(var J=[],G=0;G<D;G++)J.push(b1(x));return J}function D1(x){if(x.length==1)return J1(x[0]);var D=x[0];x=x.slice(1);for(var J=[],G=0;G<D;G++)J.push(D1(x));return J}function V1(x){if(x.length==1)return new Array(x[0]);var D=x[0];x=x.slice(1);for(var J=[],G=0;G<D;G++)J.push(V1(x));return J}var j0={};j0.fill=function(x,D,J,G){if(arguments.length==2)for(var n0=0;n0<x.length;n0++)x[n0]=arguments[1];else for(var n0=D;n0<J;n0++)x[n0]=G};var B0={};B0.arraycopy=function(x,D,J,G,n0){for(var F=D+n0;D<F;)J[G++]=x[D++]};var R0={};R0.SQRT2=1.4142135623730951,R0.FAST_LOG10=function(x){return Math.log10(x)},R0.FAST_LOG10_X=function(x,D){return Math.log10(x)*D};function Z0(x){this.ordinal=x}Z0.short_block_allowed=new Z0(0),Z0.short_block_coupled=new Z0(1),Z0.short_block_dispensed=new Z0(2),Z0.short_block_forced=new Z0(3);var m1={};m1.MAX_VALUE=34028235e31;function b0(x){this.ordinal=x}b0.vbr_off=new b0(0),b0.vbr_mt=new b0(1),b0.vbr_rh=new b0(2),b0.vbr_abr=new b0(3),b0.vbr_mtrh=new b0(4),b0.vbr_default=b0.vbr_mtrh;var le=function(x){},He={System:B0,VbrMode:b0,Float:m1,ShortBlock:Z0,Util:R0,Arrays:j0,new_array_n:V1,new_byte:u1,new_double:$1,new_float:v0,new_float_n:X0,new_int:E0,new_int_n:b1,new_short:J1,new_short_n:D1,assert:le};function p0(x){var D=x;this.ordinal=function(){return D}}p0.STEREO=new p0(0),p0.JOINT_STEREO=new p0(1),p0.DUAL_CHANNEL=new p0(2),p0.MONO=new p0(3),p0.NOT_SET=new p0(4);function ve(){var x="http://www.mp3dev.org/",D=3,J=98,G=4,n0=0,F=93;this.getLameVersion=function(){return D+"."+J+"."+G},this.getLameShortVersion=function(){return D+"."+J+"."+G},this.getLameVeryShortVersion=function(){return"LAME"+D+"."+J+"r"},this.getPsyVersion=function(){return n0+"."+F},this.getLameUrl=function(){return x},this.getLameOsBitness=function(){return"32bits"}}w0.STEPS_per_dB=100,w0.MAX_dB=120,w0.GAIN_NOT_ENOUGH_SAMPLES=-24601,w0.GAIN_ANALYSIS_ERROR=0,w0.GAIN_ANALYSIS_OK=1,w0.INIT_GAIN_ANALYSIS_ERROR=0,w0.INIT_GAIN_ANALYSIS_OK=1,w0.YULE_ORDER=10,w0.MAX_ORDER=w0.YULE_ORDER,w0.MAX_SAMP_FREQ=48e3,w0.RMS_WINDOW_TIME_NUMERATOR=1,w0.RMS_WINDOW_TIME_DENOMINATOR=20,w0.MAX_SAMPLES_PER_WINDOW=w0.MAX_SAMP_FREQ*w0.RMS_WINDOW_TIME_NUMERATOR/w0.RMS_WINDOW_TIME_DENOMINATOR+1;function w0(){var x=64.82,D=w0.YULE_ORDER,J=.95,G=w0.MAX_SAMP_FREQ,n0=w0.RMS_WINDOW_TIME_NUMERATOR,F=w0.RMS_WINDOW_TIME_DENOMINATOR,j=w0.MAX_SAMPLES_PER_WINDOW,t0=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],i0=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function O(e,A,I,R,v,m){for(;v--!=0;)I[R]=1e-10+e[A+0]*m[0]-I[R-1]*m[1]+e[A-1]*m[2]-I[R-2]*m[3]+e[A-2]*m[4]-I[R-3]*m[5]+e[A-3]*m[6]-I[R-4]*m[7]+e[A-4]*m[8]-I[R-5]*m[9]+e[A-5]*m[10]-I[R-6]*m[11]+e[A-6]*m[12]-I[R-7]*m[13]+e[A-7]*m[14]-I[R-8]*m[15]+e[A-8]*m[16]-I[R-9]*m[17]+e[A-9]*m[18]-I[R-10]*m[19]+e[A-10]*m[20],++R,++A}function H(e,A,I,R,v,m){for(;v--!=0;)I[R]=e[A+0]*m[0]-I[R-1]*m[1]+e[A-1]*m[2]-I[R-2]*m[3]+e[A-2]*m[4],++R,++A}function K(e,A){for(var I=0;I<MAX_ORDER;I++)e.linprebuf[I]=e.lstepbuf[I]=e.loutbuf[I]=e.rinprebuf[I]=e.rstepbuf[I]=e.routbuf[I]=0;switch(0|A){case 48e3:e.reqindex=0;break;case 44100:e.reqindex=1;break;case 32e3:e.reqindex=2;break;case 24e3:e.reqindex=3;break;case 22050:e.reqindex=4;break;case 16e3:e.reqindex=5;break;case 12e3:e.reqindex=6;break;case 11025:e.reqindex=7;break;case 8e3:e.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return e.sampleWindow=0|(A*n0+F-1)/F,e.lsum=0,e.rsum=0,e.totsamp=0,j0.ill(e.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(e,A){return K(e,A)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(e.linpre=MAX_ORDER,e.rinpre=MAX_ORDER,e.lstep=MAX_ORDER,e.rstep=MAX_ORDER,e.lout=MAX_ORDER,e.rout=MAX_ORDER,j0.fill(e.B,0),INIT_GAIN_ANALYSIS_OK)};function y(e){return e*e}this.AnalyzeSamples=function(e,A,I,R,v,m,b){var d,M,r,E,o,s,a;if(m==0)return GAIN_ANALYSIS_OK;switch(a=0,o=m,b){case 1:R=A,v=I;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(m<MAX_ORDER?(B0.arraycopy(A,I,e.linprebuf,MAX_ORDER,m),B0.arraycopy(R,v,e.rinprebuf,MAX_ORDER,m)):(B0.arraycopy(A,I,e.linprebuf,MAX_ORDER,MAX_ORDER),B0.arraycopy(R,v,e.rinprebuf,MAX_ORDER,MAX_ORDER));o>0;){s=o>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:o,a<MAX_ORDER?(d=e.linpre+a,M=e.linprebuf,r=e.rinpre+a,E=e.rinprebuf,s>MAX_ORDER-a&&(s=MAX_ORDER-a)):(d=I+a,M=A,r=v+a,E=R),O(M,d,e.lstepbuf,e.lstep+e.totsamp,s,t0[e.reqindex]),O(E,r,e.rstepbuf,e.rstep+e.totsamp,s,t0[e.reqindex]),H(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,s,i0[e.reqindex]),H(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,s,i0[e.reqindex]),d=e.lout+e.totsamp,M=e.loutbuf,r=e.rout+e.totsamp,E=e.routbuf;for(var _=s%8;_--!=0;)e.lsum+=y(M[d++]),e.rsum+=y(E[r++]);for(_=s/8;_--!=0;)e.lsum+=y(M[d+0])+y(M[d+1])+y(M[d+2])+y(M[d+3])+y(M[d+4])+y(M[d+5])+y(M[d+6])+y(M[d+7]),d+=8,e.rsum+=y(E[r+0])+y(E[r+1])+y(E[r+2])+y(E[r+3])+y(E[r+4])+y(E[r+5])+y(E[r+6])+y(E[r+7]),r+=8;if(o-=s,a+=s,e.totsamp+=s,e.totsamp==e.sampleWindow){var i=w0.STEPS_per_dB*10*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37),n=i<=0?0:0|i;n>=e.A.length&&(n=e.A.length-1),e.A[n]++,e.lsum=e.rsum=0,B0.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),B0.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),B0.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),B0.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return m<MAX_ORDER?(B0.arraycopy(e.linprebuf,m,e.linprebuf,0,MAX_ORDER-m),B0.arraycopy(e.rinprebuf,m,e.rinprebuf,0,MAX_ORDER-m),B0.arraycopy(A,I,e.linprebuf,MAX_ORDER-m,m),B0.arraycopy(R,v,e.rinprebuf,MAX_ORDER-m,m)):(B0.arraycopy(A,I+m-MAX_ORDER,e.linprebuf,0,MAX_ORDER),B0.arraycopy(R,v+m-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function p(e,A){var I,R=0;for(I=0;I<A;I++)R+=e[I];if(R==0)return GAIN_NOT_ENOUGH_SAMPLES;var v=0|Math.ceil(R*(1-J));for(I=A;I-- >0&&!((v-=e[I])<=0););return x-I/w0.STEPS_per_dB}this.GetTitleGain=function(e){for(var A=p(e.A,e.A.length),I=0;I<e.A.length;I++)e.B[I]+=e.A[I],e.A[I]=0;for(var I=0;I<MAX_ORDER;I++)e.linprebuf[I]=e.lstepbuf[I]=e.loutbuf[I]=e.rinprebuf[I]=e.rstepbuf[I]=e.routbuf[I]=0;return e.totsamp=0,e.lsum=e.rsum=0,A}}function oe(){function x(O,H,K,y,p,e,A,I,R,v,m,b,d,M,r){this.vbr_q=O,this.quant_comp=H,this.quant_comp_s=K,this.expY=y,this.st_lrm=p,this.st_s=e,this.masking_adj=A,this.masking_adj_short=I,this.ath_lower=R,this.ath_curve=v,this.ath_sensitivity=m,this.interch=b,this.safejoint=d,this.sfb21mod=M,this.msfix=r}function D(O,H,K,y,p,e,A,I,R,v,m,b,d,M){this.quant_comp=H,this.quant_comp_s=K,this.safejoint=y,this.nsmsfix=p,this.st_lrm=e,this.st_s=A,this.nsbass=I,this.scale=R,this.masking_adj=v,this.ath_lower=m,this.ath_curve=b,this.interch=d,this.sfscale=M}var J;this.setModules=function(O){J=O};var G=[new x(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new x(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new x(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new x(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new x(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new x(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new x(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new x(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new x(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new x(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new x(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],n0=[new x(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new x(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new x(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new x(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new x(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new x(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new x(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new x(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new x(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new x(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new x(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function F(O,H,K){var y=O.VBR==b0.vbr_rh?G:n0,p=O.VBR_q_frac,e=y[H],A=y[H+1],I=e;e.st_lrm=e.st_lrm+p*(A.st_lrm-e.st_lrm),e.st_s=e.st_s+p*(A.st_s-e.st_s),e.masking_adj=e.masking_adj+p*(A.masking_adj-e.masking_adj),e.masking_adj_short=e.masking_adj_short+p*(A.masking_adj_short-e.masking_adj_short),e.ath_lower=e.ath_lower+p*(A.ath_lower-e.ath_lower),e.ath_curve=e.ath_curve+p*(A.ath_curve-e.ath_curve),e.ath_sensitivity=e.ath_sensitivity+p*(A.ath_sensitivity-e.ath_sensitivity),e.interch=e.interch+p*(A.interch-e.interch),e.msfix=e.msfix+p*(A.msfix-e.msfix),i0(O,I.vbr_q),K!=0?O.quant_comp=I.quant_comp:Math.abs(O.quant_comp- -1)>0||(O.quant_comp=I.quant_comp),K!=0?O.quant_comp_short=I.quant_comp_s:Math.abs(O.quant_comp_short- -1)>0||(O.quant_comp_short=I.quant_comp_s),I.expY!=0&&(O.experimentalY=I.expY!=0),K!=0?O.internal_flags.nsPsy.attackthre=I.st_lrm:Math.abs(O.internal_flags.nsPsy.attackthre- -1)>0||(O.internal_flags.nsPsy.attackthre=I.st_lrm),K!=0?O.internal_flags.nsPsy.attackthre_s=I.st_s:Math.abs(O.internal_flags.nsPsy.attackthre_s- -1)>0||(O.internal_flags.nsPsy.attackthre_s=I.st_s),K!=0?O.maskingadjust=I.masking_adj:Math.abs(O.maskingadjust-0)>0||(O.maskingadjust=I.masking_adj),K!=0?O.maskingadjust_short=I.masking_adj_short:Math.abs(O.maskingadjust_short-0)>0||(O.maskingadjust_short=I.masking_adj_short),K!=0?O.ATHlower=-I.ath_lower/10:Math.abs(-O.ATHlower*10-0)>0||(O.ATHlower=-I.ath_lower/10),K!=0?O.ATHcurve=I.ath_curve:Math.abs(O.ATHcurve- -1)>0||(O.ATHcurve=I.ath_curve),K!=0?O.athaa_sensitivity=I.ath_sensitivity:Math.abs(O.athaa_sensitivity- -1)>0||(O.athaa_sensitivity=I.ath_sensitivity),I.interch>0&&(K!=0?O.interChRatio=I.interch:Math.abs(O.interChRatio- -1)>0||(O.interChRatio=I.interch)),I.safejoint>0&&(O.exp_nspsytune=O.exp_nspsytune|I.safejoint),I.sfb21mod>0&&(O.exp_nspsytune=O.exp_nspsytune|I.sfb21mod<<20),K!=0?O.msfix=I.msfix:Math.abs(O.msfix- -1)>0||(O.msfix=I.msfix),K==0&&(O.VBR_q=H,O.VBR_q_frac=p)}var j=[new D(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new D(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new D(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new D(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new D(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new D(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new D(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new D(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new D(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new D(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new D(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new D(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new D(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new D(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new D(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new D(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new D(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function t0(O,H,K){var y=H,p=J.nearestBitrateFullIndex(H);if(O.VBR=b0.vbr_abr,O.VBR_mean_bitrate_kbps=y,O.VBR_mean_bitrate_kbps=Math.min(O.VBR_mean_bitrate_kbps,320),O.VBR_mean_bitrate_kbps=Math.max(O.VBR_mean_bitrate_kbps,8),O.brate=O.VBR_mean_bitrate_kbps,O.VBR_mean_bitrate_kbps>320&&(O.disable_reservoir=!0),j[p].safejoint>0&&(O.exp_nspsytune=O.exp_nspsytune|2),j[p].sfscale>0&&(O.internal_flags.noise_shaping=2),Math.abs(j[p].nsbass)>0){var e=int(j[p].nsbass*4);e<0&&(e+=64),O.exp_nspsytune=O.exp_nspsytune|e<<2}return K!=0?O.quant_comp=j[p].quant_comp:Math.abs(O.quant_comp- -1)>0||(O.quant_comp=j[p].quant_comp),K!=0?O.quant_comp_short=j[p].quant_comp_s:Math.abs(O.quant_comp_short- -1)>0||(O.quant_comp_short=j[p].quant_comp_s),K!=0?O.msfix=j[p].nsmsfix:Math.abs(O.msfix- -1)>0||(O.msfix=j[p].nsmsfix),K!=0?O.internal_flags.nsPsy.attackthre=j[p].st_lrm:Math.abs(O.internal_flags.nsPsy.attackthre- -1)>0||(O.internal_flags.nsPsy.attackthre=j[p].st_lrm),K!=0?O.internal_flags.nsPsy.attackthre_s=j[p].st_s:Math.abs(O.internal_flags.nsPsy.attackthre_s- -1)>0||(O.internal_flags.nsPsy.attackthre_s=j[p].st_s),K!=0?O.scale=j[p].scale:Math.abs(O.scale- -1)>0||(O.scale=j[p].scale),K!=0?O.maskingadjust=j[p].masking_adj:Math.abs(O.maskingadjust-0)>0||(O.maskingadjust=j[p].masking_adj),j[p].masking_adj>0?K!=0?O.maskingadjust_short=j[p].masking_adj*.9:Math.abs(O.maskingadjust_short-0)>0||(O.maskingadjust_short=j[p].masking_adj*.9):K!=0?O.maskingadjust_short=j[p].masking_adj*1.1:Math.abs(O.maskingadjust_short-0)>0||(O.maskingadjust_short=j[p].masking_adj*1.1),K!=0?O.ATHlower=-j[p].ath_lower/10:Math.abs(-O.ATHlower*10-0)>0||(O.ATHlower=-j[p].ath_lower/10),K!=0?O.ATHcurve=j[p].ath_curve:Math.abs(O.ATHcurve- -1)>0||(O.ATHcurve=j[p].ath_curve),K!=0?O.interChRatio=j[p].interch:Math.abs(O.interChRatio- -1)>0||(O.interChRatio=j[p].interch),H}this.apply_preset=function(O,H,K){switch(H){case T0.R3MIX:{H=T0.V3,O.VBR=b0.vbr_mtrh;break}case T0.MEDIUM:{H=T0.V4,O.VBR=b0.vbr_rh;break}case T0.MEDIUM_FAST:{H=T0.V4,O.VBR=b0.vbr_mtrh;break}case T0.STANDARD:{H=T0.V2,O.VBR=b0.vbr_rh;break}case T0.STANDARD_FAST:{H=T0.V2,O.VBR=b0.vbr_mtrh;break}case T0.EXTREME:{H=T0.V0,O.VBR=b0.vbr_rh;break}case T0.EXTREME_FAST:{H=T0.V0,O.VBR=b0.vbr_mtrh;break}case T0.INSANE:return H=320,O.preset=H,t0(O,H,K),O.VBR=b0.vbr_off,H}switch(O.preset=H,H){case T0.V9:return F(O,9,K),H;case T0.V8:return F(O,8,K),H;case T0.V7:return F(O,7,K),H;case T0.V6:return F(O,6,K),H;case T0.V5:return F(O,5,K),H;case T0.V4:return F(O,4,K),H;case T0.V3:return F(O,3,K),H;case T0.V2:return F(O,2,K),H;case T0.V1:return F(O,1,K),H;case T0.V0:return F(O,0,K),H;default:break}return 8<=H&&H<=320?t0(O,H,K):(O.preset=0,H)};function i0(O,H){var K=0;return 0>H&&(K=-1,H=0),9<H&&(K=-1,H=9),O.VBR_q=H,O.VBR_q_frac=0,K}}function w1(){var x=null;this.qupvt=null,this.setModules=function(s){this.qupvt=s,x=s};function D(s){this.bits=0|s}var J=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function G(s,a,_,i,n,h){var f=.5946/a;for(s=s>>1;s--!=0;)n[h++]=f>_[i++]?0:1,n[h++]=f>_[i++]?0:1}function n0(s,a,_,i,n,h){s=s>>1;var f=s%2;for(s=s>>1;s--!=0;){var V,w,N,$,t,l,P,W;V=_[i++]*a,w=_[i++]*a,t=0|V,N=_[i++]*a,l=0|w,$=_[i++]*a,P=0|N,V+=x.adj43[t],W=0|$,w+=x.adj43[l],n[h++]=0|V,N+=x.adj43[P],n[h++]=0|w,$+=x.adj43[W],n[h++]=0|N,n[h++]=0|$}if(f!=0){var V,w,t,l;V=_[i++]*a,w=_[i++]*a,t=0|V,l=0|w,V+=x.adj43[t],w+=x.adj43[l],n[h++]=0|V,n[h++]=0|w}}function F(s,a,_,i,n){var h,f,V=0,w,N=0,$=0,t=0,l=a,P=0,W=l,r0=0,o0=s,h0=0;for(w=n!=null&&i.global_gain==n.global_gain,i.block_type==u.SHORT_TYPE?f=38:f=21,h=0;h<=f;h++){var f0=-1;if((w||i.block_type==u.NORM_TYPE)&&(f0=i.global_gain-(i.scalefac[h]+(i.preflag!=0?x.pretab[h]:0)<<i.scalefac_scale+1)-i.subblock_gain[i.window[h]]*8),w&&n.step[h]==f0)N!=0&&(n0(N,_,o0,h0,W,r0),N=0),$!=0&&(G($,_,o0,h0,W,r0),$=0);else{var S0=i.width[h];if(V+i.width[h]>i.max_nonzero_coeff){var c0;c0=i.max_nonzero_coeff-V+1,j0.fill(a,i.max_nonzero_coeff,576,0),S0=c0,S0<0&&(S0=0),h=f+1}if(N==0&&$==0&&(W=l,r0=P,o0=s,h0=t),n!=null&&n.sfb_count1>0&&h>=n.sfb_count1&&n.step[h]>0&&f0>=n.step[h]?(N!=0&&(n0(N,_,o0,h0,W,r0),N=0,W=l,r0=P,o0=s,h0=t),$+=S0):($!=0&&(G($,_,o0,h0,W,r0),$=0,W=l,r0=P,o0=s,h0=t),N+=S0),S0<=0){$!=0&&(G($,_,o0,h0,W,r0),$=0),N!=0&&(n0(N,_,o0,h0,W,r0),N=0);break}}h<=f&&(P+=i.width[h],t+=i.width[h],V+=i.width[h])}N!=0&&(n0(N,_,o0,h0,W,r0),N=0),$!=0&&(G($,_,o0,h0,W,r0),$=0)}function j(s,a,_){var i=0,n=0;do{var h=s[a++],f=s[a++];i<h&&(i=h),n<f&&(n=f)}while(a<_);return i<n&&(i=n),i}function t0(s,a,_,i,n,h){var f=Z.ht[i].xlen*65536+Z.ht[n].xlen,V=0,w;do{var N=s[a++],$=s[a++];N!=0&&(N>14&&(N=15,V+=f),N*=16),$!=0&&($>14&&($=15,V+=f),N+=$),V+=Z.largetbl[N]}while(a<_);return w=V&65535,V>>=16,V>w&&(V=w,i=n),h.bits+=V,i}function i0(s,a,_,i){var n=0,h=Z.ht[1].hlen;do{var f=s[a+0]*2+s[a+1];a+=2,n+=h[f]}while(a<_);return i.bits+=n,1}function O(s,a,_,i,n){var h=0,f,V=Z.ht[i].xlen,w;i==2?w=Z.table23:w=Z.table56;do{var N=s[a+0]*V+s[a+1];a+=2,h+=w[N]}while(a<_);return f=h&65535,h>>=16,h>f&&(h=f,i++),n.bits+=h,i}function H(s,a,_,i,n){var h=0,f=0,V=0,w=Z.ht[i].xlen,N=Z.ht[i].hlen,$=Z.ht[i+1].hlen,t=Z.ht[i+2].hlen;do{var l=s[a+0]*w+s[a+1];a+=2,h+=N[l],f+=$[l],V+=t[l]}while(a<_);var P=i;return h>f&&(h=f,P++),h>V&&(h=V,P=i+2),n.bits+=h,P}var K=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function y(s,a,_,i){var n=j(s,a,_);switch(n){case 0:return n;case 1:return i0(s,a,_,i);case 2:case 3:return O(s,a,_,K[n-1],i);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return H(s,a,_,K[n-1],i);default:if(n>U0.IXMAX_VAL)return i.bits=U0.LARGE_BITS,-1;n-=15;var h;for(h=24;h<32&&!(Z.ht[h].linmax>=n);h++);var f;for(f=h-8;f<24&&!(Z.ht[f].linmax>=n);f++);return t0(s,a,_,f,h,i)}}this.noquant_count_bits=function(s,a,_){var i=a.l3_enc,n=Math.min(576,a.max_nonzero_coeff+2>>1<<1);for(_!=null&&(_.sfb_count1=0);n>1&&(i[n-1]|i[n-2])==0;n-=2);a.count1=n;for(var h=0,f=0;n>3;n-=4){var V;if(((i[n-1]|i[n-2]|i[n-3]|i[n-4])&2147483647)>1)break;V=((i[n-4]*2+i[n-3])*2+i[n-2])*2+i[n-1],h+=Z.t32l[V],f+=Z.t33l[V]}var w=h;if(a.count1table_select=0,h>f&&(w=f,a.count1table_select=1),a.count1bits=w,a.big_values=n,n==0)return w;if(a.block_type==u.SHORT_TYPE)h=3*s.scalefac_band.s[3],h>a.big_values&&(h=a.big_values),f=a.big_values;else if(a.block_type==u.NORM_TYPE){if(h=a.region0_count=s.bv_scf[n-2],f=a.region1_count=s.bv_scf[n-1],f=s.scalefac_band.l[h+f+2],h=s.scalefac_band.l[h+1],f<n){var N=new D(w);a.table_select[2]=y(i,f,n,N),w=N.bits}}else a.region0_count=7,a.region1_count=u.SBMAX_l-1-7-1,h=s.scalefac_band.l[8],f=n,h>f&&(h=f);if(h=Math.min(h,n),f=Math.min(f,n),0<h){var N=new D(w);a.table_select[0]=y(i,0,h,N),w=N.bits}if(h<f){var N=new D(w);a.table_select[1]=y(i,h,f,N),w=N.bits}if(s.use_best_huffman==2&&(a.part2_3_length=w,best_huffman_divide(s,a),w=a.part2_3_length),_!=null&&a.block_type==u.NORM_TYPE){for(var $=0;s.scalefac_band.l[$]<a.big_values;)$++;_.sfb_count1=$}return w},this.count_bits=function(s,a,_,i){var n=_.l3_enc,h=U0.IXMAX_VAL/x.IPOW20(_.global_gain);if(_.xrpow_max>h)return U0.LARGE_BITS;if(F(a,n,x.IPOW20(_.global_gain),_,i),(s.substep_shaping&2)!=0)for(var f=0,V=_.global_gain+_.scalefac_scale,w=.634521682242439/x.IPOW20(V),N=0;N<_.sfbmax;N++){var $=_.width[N];if(s.pseudohalf[N]==0)f+=$;else{var t;for(t=f,f+=$;t<f;++t)n[t]=a[t]>=w?n[t]:0}}return this.noquant_count_bits(s,_,i)};function p(s,a,_,i,n,h,f){for(var V=a.big_values,w=0;w<=22;w++)i[w]=U0.LARGE_BITS;for(var w=0;w<16;w++){var N=s.scalefac_band.l[w+1];if(N>=V)break;var $=0,t=new D($),l=y(_,0,N,t);$=t.bits;for(var P=0;P<8;P++){var W=s.scalefac_band.l[w+P+2];if(W>=V)break;var r0=$;t=new D(r0);var o0=y(_,N,W,t);r0=t.bits,i[w+P]>r0&&(i[w+P]=r0,n[w+P]=w,h[w+P]=l,f[w+P]=o0)}}}function e(s,a,_,i,n,h,f,V){for(var w=a.big_values,N=2;N<u.SBMAX_l+1;N++){var $=s.scalefac_band.l[N];if($>=w)break;var t=n[N-2]+a.count1bits;if(_.part2_3_length<=t)break;var l=new D(t),P=y(i,$,w,l);t=l.bits,!(_.part2_3_length<=t)&&(_.assign(a),_.part2_3_length=t,_.region0_count=h[N-2],_.region1_count=N-2-h[N-2],_.table_select[0]=f[N-2],_.table_select[1]=V[N-2],_.table_select[2]=P)}}this.best_huffman_divide=function(s,a){var _=new k1,i=a.l3_enc,n=E0(23),h=E0(23),f=E0(23),V=E0(23);if(!(a.block_type==u.SHORT_TYPE&&s.mode_gr==1)){_.assign(a),a.block_type==u.NORM_TYPE&&(p(s,a,i,n,h,f,V),e(s,_,a,i,n,h,f,V));var w=_.big_values;if(!(w==0||(i[w-2]|i[w-1])>1)&&(w=a.count1+2,!(w>576))){_.assign(a),_.count1=w;for(var N=0,$=0;w>_.big_values;w-=4){var t=((i[w-4]*2+i[w-3])*2+i[w-2])*2+i[w-1];N+=Z.t32l[t],$+=Z.t33l[t]}if(_.big_values=w,_.count1table_select=0,N>$&&(N=$,_.count1table_select=1),_.count1bits=N,_.block_type==u.NORM_TYPE)e(s,_,a,i,n,h,f,V);else{if(_.part2_3_length=N,N=s.scalefac_band.l[8],N>w&&(N=w),N>0){var l=new D(_.part2_3_length);_.table_select[0]=y(i,0,N,l),_.part2_3_length=l.bits}if(w>N){var l=new D(_.part2_3_length);_.table_select[1]=y(i,N,w,l),_.part2_3_length=l.bits}a.part2_3_length>_.part2_3_length&&a.assign(_)}}}};var A=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],I=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],R=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],v=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];w1.slen1_tab=R,w1.slen2_tab=v;function m(s,a){for(var _,i=a.tt[1][s],n=a.tt[0][s],h=0;h<Z.scfsi_band.length-1;h++){for(_=Z.scfsi_band[h];_<Z.scfsi_band[h+1]&&!(n.scalefac[_]!=i.scalefac[_]&&i.scalefac[_]>=0);_++);if(_==Z.scfsi_band[h+1]){for(_=Z.scfsi_band[h];_<Z.scfsi_band[h+1];_++)i.scalefac[_]=-1;a.scfsi[s][h]=1}}var f=0,V=0;for(_=0;_<11;_++)i.scalefac[_]!=-1&&(V++,f<i.scalefac[_]&&(f=i.scalefac[_]));for(var w=0,N=0;_<u.SBPSY_l;_++)i.scalefac[_]!=-1&&(N++,w<i.scalefac[_]&&(w=i.scalefac[_]));for(var h=0;h<16;h++)if(f<A[h]&&w<I[h]){var $=R[h]*V+v[h]*N;i.part2_length>$&&(i.part2_length=$,i.scalefac_compress=h)}}this.best_scalefac_store=function(s,a,_,i){var n=i.tt[a][_],h,f,V,w,N=0;for(V=0,h=0;h<n.sfbmax;h++){var $=n.width[h];for(V+=$,w=-$;w<0&&n.l3_enc[w+V]==0;w++);w==0&&(n.scalefac[h]=N=-2)}if(n.scalefac_scale==0&&n.preflag==0){var t=0;for(h=0;h<n.sfbmax;h++)n.scalefac[h]>0&&(t|=n.scalefac[h]);if((t&1)==0&&t!=0){for(h=0;h<n.sfbmax;h++)n.scalefac[h]>0&&(n.scalefac[h]>>=1);n.scalefac_scale=N=1}}if(n.preflag==0&&n.block_type!=u.SHORT_TYPE&&s.mode_gr==2){for(h=11;h<u.SBPSY_l&&!(n.scalefac[h]<x.pretab[h]&&n.scalefac[h]!=-2);h++);if(h==u.SBPSY_l){for(h=11;h<u.SBPSY_l;h++)n.scalefac[h]>0&&(n.scalefac[h]-=x.pretab[h]);n.preflag=N=1}}for(f=0;f<4;f++)i.scfsi[_][f]=0;for(s.mode_gr==2&&a==1&&i.tt[0][_].block_type!=u.SHORT_TYPE&&i.tt[1][_].block_type!=u.SHORT_TYPE&&(m(_,i),N=0),h=0;h<n.sfbmax;h++)n.scalefac[h]==-2&&(n.scalefac[h]=0);N!=0&&(s.mode_gr==2?this.scale_bitcount(n):this.scale_bitcount_lsf(s,n))};function b(s,a){for(var _=0;_<a;++_)if(s[_]<0)return!1;return!0}var d=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],M=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],r=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(s){var a,_,i=0,n=0,h,f=s.scalefac;if(s.block_type==u.SHORT_TYPE)h=d,s.mixed_block_flag!=0&&(h=M);else if(h=r,s.preflag==0){for(_=11;_<u.SBPSY_l&&!(f[_]<x.pretab[_]);_++);if(_==u.SBPSY_l)for(s.preflag=1,_=11;_<u.SBPSY_l;_++)f[_]-=x.pretab[_]}for(_=0;_<s.sfbdivide;_++)i<f[_]&&(i=f[_]);for(;_<s.sfbmax;_++)n<f[_]&&(n=f[_]);for(s.part2_length=U0.LARGE_BITS,a=0;a<16;a++)i<A[a]&&n<I[a]&&s.part2_length>h[a]&&(s.part2_length=h[a],s.scalefac_compress=a);return s.part2_length==U0.LARGE_BITS};var E=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(s,a){var _,i,n,h,f,V,w,N,$=E0(4),t=a.scalefac;for(a.preflag!=0?_=2:_=0,w=0;w<4;w++)$[w]=0;if(a.block_type==u.SHORT_TYPE){i=1;var l=x.nr_of_sfb_block[_][i];for(N=0,n=0;n<4;n++)for(h=l[n]/3,w=0;w<h;w++,N++)for(f=0;f<3;f++)t[N*3+f]>$[n]&&($[n]=t[N*3+f])}else{i=0;var l=x.nr_of_sfb_block[_][i];for(N=0,n=0;n<4;n++)for(h=l[n],w=0;w<h;w++,N++)t[N]>$[n]&&($[n]=t[N])}for(V=!1,n=0;n<4;n++)$[n]>E[_][n]&&(V=!0);if(!V){var P,W,r0,o0;for(a.sfb_partition_table=x.nr_of_sfb_block[_][i],n=0;n<4;n++)a.slen[n]=o[$[n]];switch(P=a.slen[0],W=a.slen[1],r0=a.slen[2],o0=a.slen[3],_){case 0:a.scalefac_compress=(P*5+W<<4)+(r0<<2)+o0;break;case 1:a.scalefac_compress=400+(P*5+W<<2)+r0;break;case 2:a.scalefac_compress=500+P*3+W;break;default:B0.err.printf(`intensity stereo not implemented yet
`);break}}if(!V)for(a.part2_length=0,n=0;n<4;n++)a.part2_length+=a.slen[n]*a.sfb_partition_table[n];return V};var o=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(s){for(var a=2;a<=576;a+=2){for(var _=0,i;s.scalefac_band.l[++_]<a;);for(i=J[_][0];s.scalefac_band.l[i+1]>a;)i--;for(i<0&&(i=J[_][0]),s.bv_scf[a-2]=i,i=J[_][1];s.scalefac_band.l[i+s.bv_scf[a-2]+2]>a;)i--;i<0&&(i=J[_][1]),s.bv_scf[a-1]=i}}}function he(){var x;this.setModules=function(D){x=D},this.ResvFrameBegin=function(D,J){var G=D.internal_flags,n0,F=G.l3_side,j=x.getframebits(D);J.bits=(j-G.sideinfo_len*8)/G.mode_gr;var t0=8*256*G.mode_gr-8;D.brate>320?n0=8*int(D.brate*1e3/(D.out_samplerate/1152)/8+.5):(n0=8*1440,D.strict_ISO&&(n0=8*int(32e4/(D.out_samplerate/1152)/8+.5))),G.ResvMax=n0-j,G.ResvMax>t0&&(G.ResvMax=t0),(G.ResvMax<0||D.disable_reservoir)&&(G.ResvMax=0);var i0=J.bits*G.mode_gr+Math.min(G.ResvSize,G.ResvMax);return i0>n0&&(i0=n0),F.resvDrain_pre=0,G.pinfo!=null&&(G.pinfo.mean_bits=J.bits/2,G.pinfo.resvsize=G.ResvSize),i0},this.ResvMaxBits=function(D,J,G,n0){var F=D.internal_flags,j,t0=F.ResvSize,i0=F.ResvMax;n0!=0&&(t0+=J),(F.substep_shaping&1)!=0&&(i0*=.9),G.bits=J,t0*10>i0*9?(j=t0-i0*9/10,G.bits+=j,F.substep_shaping|=128):(j=0,F.substep_shaping&=127,!D.disable_reservoir&&(F.substep_shaping&1)==0&&(G.bits-=.1*J));var O=t0<F.ResvMax*6/10?t0:F.ResvMax*6/10;return O-=j,O<0&&(O=0),O},this.ResvAdjust=function(D,J){D.ResvSize-=J.part2_3_length+J.part2_length},this.ResvFrameEnd=function(D,J){var G,n0=D.l3_side;D.ResvSize+=J*D.mode_gr;var F=0;n0.resvDrain_post=0,n0.resvDrain_pre=0,(G=D.ResvSize%8)!=0&&(F+=G),G=D.ResvSize-F-D.ResvMax,G>0&&(F+=G);{var j=Math.min(n0.main_data_begin*8,F)/8;n0.resvDrain_pre+=8*j,F-=8*j,D.ResvSize-=8*j,n0.main_data_begin-=j}n0.resvDrain_post+=F,D.ResvSize-=F}}P0.EQ=function(x,D){return Math.abs(x)>Math.abs(D)?Math.abs(x-D)<=Math.abs(x)*1e-6:Math.abs(x-D)<=Math.abs(D)*1e-6},P0.NEQ=function(x,D){return!P0.EQ(x,D)};function P0(){var x=this,D=32773,J=32,G=null,n0=null,F=null,j=null;this.setModules=function(o,s,a,_){G=o,n0=s,F=a,j=_};var t0=null,i0=0,O=0,H=0;this.getframebits=function(o){var s=o.internal_flags,a;s.bitrate_index!=0?a=Z.bitrate_table[o.version][s.bitrate_index]:a=o.brate;var _=0|(o.version+1)*72e3*a/o.out_samplerate+s.padding;return 8*_};function K(o){B0.arraycopy(o.header[o.w_ptr].buf,0,t0,O,o.sideinfo_len),O+=o.sideinfo_len,i0+=o.sideinfo_len*8,o.w_ptr=o.w_ptr+1&H0.MAX_HEADER_BUF-1}function y(o,s,a){for(;a>0;){var _;H==0&&(H=8,O++,o.header[o.w_ptr].write_timing==i0&&K(o),t0[O]=0),_=Math.min(a,H),a-=_,H-=_,t0[O]|=s>>a<<H,i0+=_}}function p(o,s,a){for(;a>0;){var _;H==0&&(H=8,O++,t0[O]=0),_=Math.min(a,H),a-=_,H-=_,t0[O]|=s>>a<<H,i0+=_}}function e(o,s){var a=o.internal_flags,_;if(s>=8&&(y(a,76,8),s-=8),s>=8&&(y(a,65,8),s-=8),s>=8&&(y(a,77,8),s-=8),s>=8&&(y(a,69,8),s-=8),s>=32){var i=F.getLameShortVersion();if(s>=32)for(_=0;_<i.length&&s>=8;++_)s-=8,y(a,i.charAt(_),8)}for(;s>=1;s-=1)y(a,a.ancillary_flag,1),a.ancillary_flag^=o.disable_reservoir?0:1}function A(o,s,a){for(var _=o.header[o.h_ptr].ptr;a>0;){var i=Math.min(a,8-(_&7));a-=i,o.header[o.h_ptr].buf[_>>3]|=s>>a<<8-(_&7)-i,_+=i}o.header[o.h_ptr].ptr=_}function I(o,s){o<<=8;for(var a=0;a<8;a++)o<<=1,s<<=1,((s^o)&65536)!=0&&(s^=D);return s}this.CRC_writeheader=function(o,s){var a=65535;a=I(s[2]&255,a),a=I(s[3]&255,a);for(var _=6;_<o.sideinfo_len;_++)a=I(s[_]&255,a);s[4]=byte(a>>8),s[5]=byte(a&255)};function R(o,s){var a=o.internal_flags,_,i,n;if(_=a.l3_side,a.header[a.h_ptr].ptr=0,j0.fill(a.header[a.h_ptr].buf,0,a.sideinfo_len,0),o.out_samplerate<16e3?A(a,4094,12):A(a,4095,12),A(a,o.version,1),A(a,1,2),A(a,o.error_protection?0:1,1),A(a,a.bitrate_index,4),A(a,a.samplerate_index,2),A(a,a.padding,1),A(a,o.extension,1),A(a,o.mode.ordinal(),2),A(a,a.mode_ext,2),A(a,o.copyright,1),A(a,o.original,1),A(a,o.emphasis,2),o.error_protection&&A(a,0,16),o.version==1){for(A(a,_.main_data_begin,9),a.channels_out==2?A(a,_.private_bits,3):A(a,_.private_bits,5),n=0;n<a.channels_out;n++){var h;for(h=0;h<4;h++)A(a,_.scfsi[n][h],1)}for(i=0;i<2;i++)for(n=0;n<a.channels_out;n++){var f=_.tt[i][n];A(a,f.part2_3_length+f.part2_length,12),A(a,f.big_values/2,9),A(a,f.global_gain,8),A(a,f.scalefac_compress,4),f.block_type!=u.NORM_TYPE?(A(a,1,1),A(a,f.block_type,2),A(a,f.mixed_block_flag,1),f.table_select[0]==14&&(f.table_select[0]=16),A(a,f.table_select[0],5),f.table_select[1]==14&&(f.table_select[1]=16),A(a,f.table_select[1],5),A(a,f.subblock_gain[0],3),A(a,f.subblock_gain[1],3),A(a,f.subblock_gain[2],3)):(A(a,0,1),f.table_select[0]==14&&(f.table_select[0]=16),A(a,f.table_select[0],5),f.table_select[1]==14&&(f.table_select[1]=16),A(a,f.table_select[1],5),f.table_select[2]==14&&(f.table_select[2]=16),A(a,f.table_select[2],5),A(a,f.region0_count,4),A(a,f.region1_count,3)),A(a,f.preflag,1),A(a,f.scalefac_scale,1),A(a,f.count1table_select,1)}}else for(A(a,_.main_data_begin,8),A(a,_.private_bits,a.channels_out),i=0,n=0;n<a.channels_out;n++){var f=_.tt[i][n];A(a,f.part2_3_length+f.part2_length,12),A(a,f.big_values/2,9),A(a,f.global_gain,8),A(a,f.scalefac_compress,9),f.block_type!=u.NORM_TYPE?(A(a,1,1),A(a,f.block_type,2),A(a,f.mixed_block_flag,1),f.table_select[0]==14&&(f.table_select[0]=16),A(a,f.table_select[0],5),f.table_select[1]==14&&(f.table_select[1]=16),A(a,f.table_select[1],5),A(a,f.subblock_gain[0],3),A(a,f.subblock_gain[1],3),A(a,f.subblock_gain[2],3)):(A(a,0,1),f.table_select[0]==14&&(f.table_select[0]=16),A(a,f.table_select[0],5),f.table_select[1]==14&&(f.table_select[1]=16),A(a,f.table_select[1],5),f.table_select[2]==14&&(f.table_select[2]=16),A(a,f.table_select[2],5),A(a,f.region0_count,4),A(a,f.region1_count,3)),A(a,f.scalefac_scale,1),A(a,f.count1table_select,1)}o.error_protection&&CRC_writeheader(a,a.header[a.h_ptr].buf);{var V=a.h_ptr;a.h_ptr=V+1&H0.MAX_HEADER_BUF-1,a.header[a.h_ptr].write_timing=a.header[V].write_timing+s,a.h_ptr==a.w_ptr&&B0.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function v(o,s){var a=Z.ht[s.count1table_select+32],_,i=0,n=s.big_values,h=s.big_values;for(_=(s.count1-s.big_values)/4;_>0;--_){var f=0,V=0,w;w=s.l3_enc[n+0],w!=0&&(V+=8,s.xr[h+0]<0&&f++),w=s.l3_enc[n+1],w!=0&&(V+=4,f*=2,s.xr[h+1]<0&&f++),w=s.l3_enc[n+2],w!=0&&(V+=2,f*=2,s.xr[h+2]<0&&f++),w=s.l3_enc[n+3],w!=0&&(V++,f*=2,s.xr[h+3]<0&&f++),n+=4,h+=4,y(o,f+a.table[V],a.hlen[V]),i+=a.hlen[V]}return i}function m(o,s,a,_,i){var n=Z.ht[s],h=0;if(s==0)return h;for(var f=a;f<_;f+=2){var V=0,w=0,N=n.xlen,$=n.xlen,t=0,l=i.l3_enc[f],P=i.l3_enc[f+1];if(l!=0&&(i.xr[f]<0&&t++,V--),s>15){if(l>14){var W=l-15;t|=W<<1,w=N,l=15}if(P>14){var r0=P-15;t<<=N,t|=r0,w+=N,P=15}$=16}P!=0&&(t<<=1,i.xr[f+1]<0&&t++,V--),l=l*$+P,w-=V,V+=n.hlen[l],y(o,n.table[l],V),y(o,t,w),h+=V+w}return h}function b(o,s){var a=3*o.scalefac_band.s[3];a>s.big_values&&(a=s.big_values);var _=m(o,s.table_select[0],0,a,s);return _+=m(o,s.table_select[1],a,s.big_values,s),_}function d(o,s){var a,_,i,n;a=s.big_values;var h=s.region0_count+1;return i=o.scalefac_band.l[h],h+=s.region1_count+1,n=o.scalefac_band.l[h],i>a&&(i=a),n>a&&(n=a),_=m(o,s.table_select[0],0,i,s),_+=m(o,s.table_select[1],i,n,s),_+=m(o,s.table_select[2],n,a,s),_}function M(o){var s,a,_,i,n=0,h=o.internal_flags,f=h.l3_side;if(o.version==1)for(s=0;s<2;s++)for(a=0;a<h.channels_out;a++){var V=f.tt[s][a],w=w1.slen1_tab[V.scalefac_compress],N=w1.slen2_tab[V.scalefac_compress];for(i=0,_=0;_<V.sfbdivide;_++)V.scalefac[_]!=-1&&(y(h,V.scalefac[_],w),i+=w);for(;_<V.sfbmax;_++)V.scalefac[_]!=-1&&(y(h,V.scalefac[_],N),i+=N);V.block_type==u.SHORT_TYPE?i+=b(h,V):i+=d(h,V),i+=v(h,V),n+=i}else for(s=0,a=0;a<h.channels_out;a++){var V=f.tt[s][a],$,t,l=0;if(i=0,_=0,t=0,V.block_type==u.SHORT_TYPE){for(;t<4;t++){var P=V.sfb_partition_table[t]/3,W=V.slen[t];for($=0;$<P;$++,_++)y(h,Math.max(V.scalefac[_*3+0],0),W),y(h,Math.max(V.scalefac[_*3+1],0),W),y(h,Math.max(V.scalefac[_*3+2],0),W),l+=3*W}i+=b(h,V)}else{for(;t<4;t++){var P=V.sfb_partition_table[t],W=V.slen[t];for($=0;$<P;$++,_++)y(h,Math.max(V.scalefac[_],0),W),l+=W}i+=d(h,V)}i+=v(h,V),n+=l+i}return n}function r(){this.total=0}function E(o,s){var a=o.internal_flags,_,i,n,h,f;return f=a.w_ptr,h=a.h_ptr-1,h==-1&&(h=H0.MAX_HEADER_BUF-1),_=a.header[h].write_timing-i0,s.total=_,_>=0&&(i=1+h-f,h<f&&(i=1+h-f+H0.MAX_HEADER_BUF),_-=i*8*a.sideinfo_len),n=x.getframebits(o),_+=n,s.total+=n,s.total%8!=0?s.total=1+s.total/8:s.total=s.total/8,s.total+=O+1,_<0&&B0.err.println(`strange error flushing buffer ... 
`),_}this.flush_bitstream=function(o){var s=o.internal_flags,a,_,i=s.h_ptr-1;if(i==-1&&(i=H0.MAX_HEADER_BUF-1),a=s.l3_side,!((_=E(o,new r))<0)){if(e(o,_),s.ResvSize=0,a.main_data_begin=0,s.findReplayGain){var n=G.GetTitleGain(s.rgdata);s.RadioGain=Math.floor(n*10+.5)|0}s.findPeakSample&&(s.noclipGainChange=Math.ceil(Math.log10(s.PeakSample/32767)*20*10)|0,s.noclipGainChange>0&&(EQ(o.scale,1)||EQ(o.scale,0))?s.noclipScale=Math.floor(32767/s.PeakSample*100)/100:s.noclipScale=-1)}},this.add_dummy_byte=function(o,s,a){for(var _=o.internal_flags,i;a-- >0;)for(p(_,s,8),i=0;i<H0.MAX_HEADER_BUF;++i)_.header[i].write_timing+=8},this.format_bitstream=function(o){var s=o.internal_flags,a;a=s.l3_side;var _=this.getframebits(o);e(o,a.resvDrain_pre),R(o,_);var i=8*s.sideinfo_len;if(i+=M(o),e(o,a.resvDrain_post),i+=a.resvDrain_post,a.main_data_begin+=(_-i)/8,E(o,new r)!=s.ResvSize&&B0.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),a.main_data_begin*8!=s.ResvSize&&(B0.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*a.main_data_begin,s.ResvSize,a.resvDrain_post,a.resvDrain_pre,8*s.sideinfo_len,i-a.resvDrain_post-8*s.sideinfo_len,i,i%8,_),B0.err.println("This is a fatal error.  It has several possible causes:"),B0.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),B0.err.println(" 9%%  Your system is overclocked"),B0.err.println(" 1%%  bug in LAME encoding library"),s.ResvSize=a.main_data_begin*8),i0>1e9){var n;for(n=0;n<H0.MAX_HEADER_BUF;++n)s.header[n].write_timing-=i0;i0=0}return 0},this.copy_buffer=function(o,s,a,_,i){var n=O+1;if(n<=0)return 0;if(_!=0&&n>_)return-1;if(B0.arraycopy(t0,0,s,a,n),O=-1,H=0,i!=0){var h=E0(1);if(h[0]=o.nMusicCRC,j.updateMusicCRC(h,s,a,n),o.nMusicCRC=h[0],n>0&&(o.VBR_seek_table.nBytesWritten+=n),o.decode_on_the_fly){for(var f=X0([2,1152]),V=n,w=-1,N;w!=0;)if(w=n0.hip_decode1_unclipped(o.hip,s,a,V,f[0],f[1]),V=0,w==-1&&(w=0),w>0){if(o.findPeakSample){for(N=0;N<w;N++)f[0][N]>o.PeakSample?o.PeakSample=f[0][N]:-f[0][N]>o.PeakSample&&(o.PeakSample=-f[0][N]);if(o.channels_out>1)for(N=0;N<w;N++)f[1][N]>o.PeakSample?o.PeakSample=f[1][N]:-f[1][N]>o.PeakSample&&(o.PeakSample=-f[1][N])}if(o.findReplayGain&&G.AnalyzeSamples(o.rgdata,f[0],0,f[1],0,w,o.channels_out)==w0.GAIN_ANALYSIS_ERROR)return-6}}}return n},this.init_bit_stream_w=function(o){t0=u1(T0.LAME_MAXMP3BUFFER),o.h_ptr=o.w_ptr=0,o.header[o.h_ptr].write_timing=0,O=-1,H=0,i0=0}}I1.NUMTOCENTRIES=100,I1.MAXFRAMESIZE=2880;function I1(){var x,D,J;this.setModules=function(i,n,h){x=i,D=n,J=h};var G=1,n0=2,F=4,j=8,t0=I1.NUMTOCENTRIES,i0=I1.MAXFRAMESIZE,O=t0+4+4+4+4+4,H=O+9+1+1+8+1+1+3+1+1+2+4+2+2,K=128,y=64,p=32,e=null,A="Xing",I="Info",R=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function v(i,n){if(i.nVbrNumFrames++,i.sum+=n,i.seen++,!(i.seen<i.want)&&(i.pos<i.size&&(i.bag[i.pos]=i.sum,i.pos++,i.seen=0),i.pos==i.size)){for(var h=1;h<i.size;h+=2)i.bag[h/2]=i.bag[h];i.want*=2,i.pos/=2}}function m(i,n){if(!(i.pos<=0))for(var h=1;h<t0;++h){var f=h/t0,V,w,N=0|Math.floor(f*i.pos);N>i.pos-1&&(N=i.pos-1),V=i.bag[N],w=i.sum;var $=0|256*V/w;$>255&&($=255),n[h]=255&$}}this.addVbrFrame=function(i){var n=i.internal_flags,h=Z.bitrate_table[i.version][n.bitrate_index];v(n.VBR_seek_table,h)};function b(i,n){var h=i[n+0]&255;return h<<=8,h|=i[n+1]&255,h<<=8,h|=i[n+2]&255,h<<=8,h|=i[n+3]&255,h}function d(i,n,h){i[n+0]=255&(h>>24&255),i[n+1]=255&(h>>16&255),i[n+2]=255&(h>>8&255),i[n+3]=255&(h&255)}function M(i,n,h){i[n+0]=255&(h>>8&255),i[n+1]=255&(h&255)}function r(i,n){return new String(i,n,A.length(),e).equals(A)||new String(i,n,I.length(),e).equals(I)}function E(i,n,h){return 255&(i<<n|h&~(-1<<n))}function o(i,n){var h=i.internal_flags;n[0]=E(n[0],8,255),n[1]=E(n[1],3,7),n[1]=E(n[1],1,i.out_samplerate<16e3?0:1),n[1]=E(n[1],1,i.version),n[1]=E(n[1],2,1),n[1]=E(n[1],1,i.error_protection?0:1),n[2]=E(n[2],4,h.bitrate_index),n[2]=E(n[2],2,h.samplerate_index),n[2]=E(n[2],1,0),n[2]=E(n[2],1,i.extension),n[3]=E(n[3],2,i.mode.ordinal()),n[3]=E(n[3],2,h.mode_ext),n[3]=E(n[3],1,i.copyright),n[3]=E(n[3],1,i.original),n[3]=E(n[3],2,i.emphasis),n[0]=255;var f=255&(n[1]&241),V;i.version==1?V=K:i.out_samplerate<16e3?V=p:V=y,i.VBR==b0.vbr_off&&(V=i.brate);var w;i.free_format?w=0:w=255&16*x.BitrateIndex(V,i.version,i.out_samplerate),i.version==1?(n[1]=255&(f|10),f=255&(n[2]&13),n[2]=255&(w|f)):(n[1]=255&(f|2),f=255&(n[2]&13),n[2]=255&(w|f))}this.getVbrTag=function(i){var n=new VBRTagData,h=0;n.flags=0;var f=i[h+1]>>3&1,V=i[h+2]>>2&3,w=i[h+3]>>6&3,N=i[h+2]>>4&15;if(N=Z.bitrate_table[f][N],i[h+1]>>4==14?n.samprate=Z.samplerate_table[2][V]:n.samprate=Z.samplerate_table[f][V],f!=0?w!=3?h+=36:h+=21:w!=3?h+=21:h+=13,!r(i,h))return null;h+=4,n.hId=f;var $=n.flags=b(i,h);if(h+=4,($&G)!=0&&(n.frames=b(i,h),h+=4),($&n0)!=0&&(n.bytes=b(i,h),h+=4),($&F)!=0){if(n.toc!=null)for(var t=0;t<t0;t++)n.toc[t]=i[h+t];h+=t0}n.vbrScale=-1,($&j)!=0&&(n.vbrScale=b(i,h),h+=4),n.headersize=(f+1)*72e3*N/n.samprate,h+=21;var l=i[h+0]<<4;l+=i[h+1]>>4;var P=(i[h+1]&15)<<8;return P+=i[h+2]&255,(l<0||l>3e3)&&(l=-1),(P<0||P>3e3)&&(P=-1),n.encDelay=l,n.encPadding=P,n},this.InitVbrTag=function(i){var n=i.internal_flags,h;i.version==1?h=K:i.out_samplerate<16e3?h=p:h=y,i.VBR==b0.vbr_off&&(h=i.brate);var f=(i.version+1)*72e3*h/i.out_samplerate,V=n.sideinfo_len+H;if(n.VBR_seek_table.TotalFrameSize=f,f<V||f>i0){i.bWriteVbrTag=!1;return}n.VBR_seek_table.nVbrNumFrames=0,n.VBR_seek_table.nBytesWritten=0,n.VBR_seek_table.sum=0,n.VBR_seek_table.seen=0,n.VBR_seek_table.want=1,n.VBR_seek_table.pos=0,n.VBR_seek_table.bag==null&&(n.VBR_seek_table.bag=new int[400],n.VBR_seek_table.size=400);var w=u1(i0);o(i,w);for(var N=n.VBR_seek_table.TotalFrameSize,$=0;$<N;++$)D.add_dummy_byte(i,w[$]&255,1)};function s(i,n){var h=n^i;return n=n>>8^R[h&255],n}this.updateMusicCRC=function(i,n,h,f){for(var V=0;V<f;++V)i[0]=s(n[h+V],i[0])};function a(i,n,h,f,V){var w=i.internal_flags,N=0,$=i.encoder_delay,t=i.encoder_padding,l=100-10*i.VBR_q-i.quality,P=J.getLameVeryShortVersion(),W,r0=0,o0,h0=[1,5,3,2,4,0,3],f0=0|(i.lowpassfreq/100+.5>255?255:i.lowpassfreq/100+.5),S0=0,c0=0,s0=0,O0=i.internal_flags.noise_shaping,V0=0,N0=0,C0=0,D0=0,G0=0,W0=(i.exp_nspsytune&1)!=0,h1=(i.exp_nspsytune&2)!=0,a1=!1,$0=!1,_1=i.internal_flags.nogap_total,R1=i.internal_flags.nogap_current,M1=i.ATHtype,f1=0,z0;switch(i.VBR){case vbr_abr:z0=i.VBR_mean_bitrate_kbps;break;case vbr_off:z0=i.brate;break;default:z0=i.VBR_min_bitrate_kbps}switch(i.VBR.ordinal()<h0.length?W=h0[i.VBR.ordinal()]:W=0,o0=16*r0+W,w.findReplayGain&&(w.RadioGain>510&&(w.RadioGain=510),w.RadioGain<-510&&(w.RadioGain=-510),c0=8192,c0|=3072,w.RadioGain>=0?c0|=w.RadioGain:(c0|=512,c0|=-w.RadioGain)),w.findPeakSample&&(S0=Math.abs(0|w.PeakSample/32767*Math.pow(2,23)+.5)),_1!=-1&&(R1>0&&($0=!0),R1<_1-1&&(a1=!0)),f1=M1+((W0?1:0)<<4)+((h1?1:0)<<5)+((a1?1:0)<<6)+(($0?1:0)<<7),l<0&&(l=0),i.mode){case MONO:V0=0;break;case STEREO:V0=1;break;case DUAL_CHANNEL:V0=2;break;case JOINT_STEREO:i.force_ms?V0=4:V0=3;break;case NOT_SET:default:V0=7;break}i.in_samplerate<=32e3?C0=0:i.in_samplerate==48e3?C0=2:i.in_samplerate>48e3?C0=3:C0=1,(i.short_blocks==Z0.short_block_forced||i.short_blocks==Z0.short_block_dispensed||i.lowpassfreq==-1&&i.highpassfreq==-1||i.scale_left<i.scale_right||i.scale_left>i.scale_right||i.disable_reservoir&&i.brate<320||i.noATH||i.ATHonly||M1==0||i.in_samplerate<=32e3)&&(N0=1),D0=O0+(V0<<2)+(N0<<5)+(C0<<6),G0=w.nMusicCRC,d(h,f+N,l),N+=4;for(var S1=0;S1<9;S1++)h[f+N+S1]=255&P.charAt(S1);N+=9,h[f+N]=255&o0,N++,h[f+N]=255&f0,N++,d(h,f+N,S0),N+=4,M(h,f+N,c0),N+=2,M(h,f+N,s0),N+=2,h[f+N]=255&f1,N++,z0>=255?h[f+N]=255:h[f+N]=255&z0,N++,h[f+N]=255&$>>4,h[f+N+1]=255&($<<4)+(t>>8),h[f+N+2]=255&t,N+=3,h[f+N]=255&D0,N++,h[f+N++]=0,M(h,f+N,i.preset),N+=2,d(h,f+N,n),N+=4,M(h,f+N,G0),N+=2;for(var L1=0;L1<N;L1++)V=s(h[f+L1],V);return M(h,f+N,V),N+=2,N}function _(i){i.seek(0);var n=u1(10);i.readFully(n);var h;return new String(n,"ISO-8859-1").startsWith("ID3")?h=0:h=((n[6]&127)<<21|(n[7]&127)<<14|(n[8]&127)<<7|n[9]&127)+n.length,h}this.getLameTagFrame=function(i,n){var h=i.internal_flags;if(!i.bWriteVbrTag||h.Class_ID!=T0.LAME_ID||h.VBR_seek_table.pos<=0)return 0;if(n.length<h.VBR_seek_table.TotalFrameSize)return h.VBR_seek_table.TotalFrameSize;j0.fill(n,0,h.VBR_seek_table.TotalFrameSize,0),o(i,n);var f=u1(t0);if(i.free_format)for(var V=1;V<t0;++V)f[V]=255&255*V/100;else m(h.VBR_seek_table,f);var w=h.sideinfo_len;i.error_protection&&(w-=2),i.VBR==b0.vbr_off?(n[w++]=255&I.charAt(0),n[w++]=255&I.charAt(1),n[w++]=255&I.charAt(2),n[w++]=255&I.charAt(3)):(n[w++]=255&A.charAt(0),n[w++]=255&A.charAt(1),n[w++]=255&A.charAt(2),n[w++]=255&A.charAt(3)),d(n,w,G+n0+F+j),w+=4,d(n,w,h.VBR_seek_table.nVbrNumFrames),w+=4;var N=h.VBR_seek_table.nBytesWritten+h.VBR_seek_table.TotalFrameSize;d(n,w,0|N),w+=4,B0.arraycopy(f,0,n,w,f.length),w+=f.length,i.error_protection&&D.CRC_writeheader(h,n);for(var $=0,V=0;V<w;V++)$=s(n[V],$);return w+=a(i,N,n,w,$),h.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(i,n){var h=i.internal_flags;if(h.VBR_seek_table.pos<=0||(n.seek(n.length()),n.length()==0))return-1;var f=_(n);n.seek(f);var V=u1(i0),w=getLameTagFrame(i,V);return w>V.length?-1:(w<1||n.write(V,0,w),0)}}function L0(x,D,J,G){this.xlen=x,this.linmax=D,this.table=J,this.hlen=G}var Z={};Z.t1HB=[1,1,1,0],Z.t2HB=[1,2,1,3,1,1,3,2,0],Z.t3HB=[3,2,1,1,1,1,3,2,0],Z.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],Z.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],Z.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],Z.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],Z.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],Z.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],Z.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],Z.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],Z.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],Z.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],Z.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],Z.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],Z.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],Z.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],Z.t1l=[1,4,3,5],Z.t2l=[1,4,7,4,5,7,6,7,8],Z.t3l=[2,3,7,4,4,7,6,7,8],Z.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],Z.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],Z.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],Z.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],Z.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],Z.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],Z.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],Z.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],Z.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],Z.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],Z.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],Z.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],Z.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],Z.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],Z.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],Z.ht=[new L0(0,0,null,null),new L0(2,0,Z.t1HB,Z.t1l),new L0(3,0,Z.t2HB,Z.t2l),new L0(3,0,Z.t3HB,Z.t3l),new L0(0,0,null,null),new L0(4,0,Z.t5HB,Z.t5l),new L0(4,0,Z.t6HB,Z.t6l),new L0(6,0,Z.t7HB,Z.t7l),new L0(6,0,Z.t8HB,Z.t8l),new L0(6,0,Z.t9HB,Z.t9l),new L0(8,0,Z.t10HB,Z.t10l),new L0(8,0,Z.t11HB,Z.t11l),new L0(8,0,Z.t12HB,Z.t12l),new L0(16,0,Z.t13HB,Z.t13l),new L0(0,0,null,Z.t16_5l),new L0(16,0,Z.t15HB,Z.t15l),new L0(1,1,Z.t16HB,Z.t16l),new L0(2,3,Z.t16HB,Z.t16l),new L0(3,7,Z.t16HB,Z.t16l),new L0(4,15,Z.t16HB,Z.t16l),new L0(6,63,Z.t16HB,Z.t16l),new L0(8,255,Z.t16HB,Z.t16l),new L0(10,1023,Z.t16HB,Z.t16l),new L0(13,8191,Z.t16HB,Z.t16l),new L0(4,15,Z.t24HB,Z.t24l),new L0(5,31,Z.t24HB,Z.t24l),new L0(6,63,Z.t24HB,Z.t24l),new L0(7,127,Z.t24HB,Z.t24l),new L0(8,255,Z.t24HB,Z.t24l),new L0(9,511,Z.t24HB,Z.t24l),new L0(11,2047,Z.t24HB,Z.t24l),new L0(13,8191,Z.t24HB,Z.t24l),new L0(0,0,Z.t32HB,Z.t32l),new L0(0,0,Z.t33HB,Z.t33l)],Z.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],Z.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],Z.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],Z.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],Z.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],Z.scfsi_band=[0,6,11,16,21];function x1(x){this.bits=x}function ue(){var x,D;this.setModules=function(J,G){x=J,D=G}}function C1(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function fe(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=p0.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}function be(){this.linprebuf=v0(w0.MAX_ORDER*2),this.linpre=0,this.lstepbuf=v0(w0.MAX_SAMPLES_PER_WINDOW+w0.MAX_ORDER),this.lstep=0,this.loutbuf=v0(w0.MAX_SAMPLES_PER_WINDOW+w0.MAX_ORDER),this.lout=0,this.rinprebuf=v0(w0.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=v0(w0.MAX_SAMPLES_PER_WINDOW+w0.MAX_ORDER),this.rstep=0,this.routbuf=v0(w0.MAX_SAMPLES_PER_WINDOW+w0.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=E0(0|w0.STEPS_per_dB*w0.MAX_dB),this.B=E0(0|w0.STEPS_per_dB*w0.MAX_dB)}function me(x){var D=x;this.quantize=D,this.iteration_loop=function(J,G,n0,F){var j=J.internal_flags,t0=v0(s1.SFBMAX),i0=v0(576),O=E0(2),H=0,K,y=j.l3_side,p=new x1(H);this.quantize.rv.ResvFrameBegin(J,p),H=p.bits;for(var e=0;e<j.mode_gr;e++){K=this.quantize.qupvt.on_pe(J,G,O,H,e,e),j.mode_ext==u.MPG_MD_MS_LR&&(this.quantize.ms_convert(j.l3_side,e),this.quantize.qupvt.reduce_side(O,n0[e],H,K));for(var A=0;A<j.channels_out;A++){var I,R,v=y.tt[e][A];v.block_type!=u.SHORT_TYPE?(I=0,R=j.PSY.mask_adjust-I):(I=0,R=j.PSY.mask_adjust_short-I),j.masking_lower=Math.pow(10,R*.1),this.quantize.init_outer_loop(j,v),this.quantize.init_xrpow(j,v,i0)&&(this.quantize.qupvt.calc_xmin(J,F[e][A],v,t0),this.quantize.outer_loop(J,v,t0,i0,A,O[A])),this.quantize.iteration_finish_one(j,e,A)}}this.quantize.rv.ResvFrameEnd(j,H)}}function ce(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=v0(u.SBMAX_l),this.s=v0(u.SBMAX_s),this.psfb21=v0(u.PSFB21),this.psfb12=v0(u.PSFB12),this.cb_l=v0(u.CBANDS),this.cb_s=v0(u.CBANDS),this.eql_w=v0(u.BLKSIZE/2)}function o1(x,D,J,G){this.l=E0(1+u.SBMAX_l),this.s=E0(1+u.SBMAX_s),this.psfb21=E0(1+u.PSFB21),this.psfb12=E0(1+u.PSFB12);var n0=this.l,F=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],B0.arraycopy(this.arrL,0,n0,0,Math.min(this.arrL.length,this.l.length)),B0.arraycopy(this.arrS,0,F,0,Math.min(this.arrS.length,this.s.length)),B0.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),B0.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}U0.Q_MAX=257,U0.Q_MAX2=116,U0.LARGE_BITS=1e5,U0.IXMAX_VAL=8206;function U0(){var x=null,D=null,J=null;this.setModules=function(b,d,M){x=b,D=d,J=M};function G(b){return y[b+U0.Q_MAX2]}this.IPOW20=function(b){return p[b]};var n0=2220446049250313e-31,F=U0.IXMAX_VAL,j=F+2,t0=U0.Q_MAX,i0=U0.Q_MAX2,O=U0.LARGE_BITS,H=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var K=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=K,this.sfBandIndex=[new o1([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new o1([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new o1([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new o1([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new o1([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new o1([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new o1([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new o1([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new o1([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var y=v0(t0+i0+1),p=v0(t0),e=v0(j),A=v0(j);this.adj43=A;function I(b,d){var M=J.ATHformula(d,b);return M-=H,M=Math.pow(10,M/10+b.ATHlower),M}function R(b){for(var d=b.internal_flags.ATH.l,M=b.internal_flags.ATH.psfb21,r=b.internal_flags.ATH.s,E=b.internal_flags.ATH.psfb12,o=b.internal_flags,s=b.out_samplerate,a=0;a<u.SBMAX_l;a++){var _=o.scalefac_band.l[a],i=o.scalefac_band.l[a+1];d[a]=m1.MAX_VALUE;for(var n=_;n<i;n++){var h=n*s/1152,f=I(b,h);d[a]=Math.min(d[a],f)}}for(var a=0;a<u.PSFB21;a++){var _=o.scalefac_band.psfb21[a],i=o.scalefac_band.psfb21[a+1];M[a]=m1.MAX_VALUE;for(var n=_;n<i;n++){var h=n*s/1152,f=I(b,h);M[a]=Math.min(M[a],f)}}for(var a=0;a<u.SBMAX_s;a++){var _=o.scalefac_band.s[a],i=o.scalefac_band.s[a+1];r[a]=m1.MAX_VALUE;for(var n=_;n<i;n++){var h=n*s/384,f=I(b,h);r[a]=Math.min(r[a],f)}r[a]*=o.scalefac_band.s[a+1]-o.scalefac_band.s[a]}for(var a=0;a<u.PSFB12;a++){var _=o.scalefac_band.psfb12[a],i=o.scalefac_band.psfb12[a+1];E[a]=m1.MAX_VALUE;for(var n=_;n<i;n++){var h=n*s/384,f=I(b,h);E[a]=Math.min(E[a],f)}E[a]*=o.scalefac_band.s[13]-o.scalefac_band.s[12]}if(b.noATH){for(var a=0;a<u.SBMAX_l;a++)d[a]=1e-20;for(var a=0;a<u.PSFB21;a++)M[a]=1e-20;for(var a=0;a<u.SBMAX_s;a++)r[a]=1e-20;for(var a=0;a<u.PSFB12;a++)E[a]=1e-20}o.ATH.floor=10*Math.log10(I(b,-1))}this.iteration_init=function(b){var d=b.internal_flags,M=d.l3_side,r;if(d.iteration_init_init==0){for(d.iteration_init_init=1,M.main_data_begin=0,R(b),e[0]=0,r=1;r<j;r++)e[r]=Math.pow(r,4/3);for(r=0;r<j-1;r++)A[r]=r+1-Math.pow(.5*(e[r]+e[r+1]),.75);for(A[r]=.5,r=0;r<t0;r++)p[r]=Math.pow(2,(r-210)*-.1875);for(r=0;r<=t0+i0;r++)y[r]=Math.pow(2,(r-210-i0)*.25);x.huffman_init(d);{var E,o,s,a;for(r=b.exp_nspsytune>>2&63,r>=32&&(r-=64),E=Math.pow(10,r/4/10),r=b.exp_nspsytune>>8&63,r>=32&&(r-=64),o=Math.pow(10,r/4/10),r=b.exp_nspsytune>>14&63,r>=32&&(r-=64),s=Math.pow(10,r/4/10),r=b.exp_nspsytune>>20&63,r>=32&&(r-=64),a=s*Math.pow(10,r/4/10),r=0;r<u.SBMAX_l;r++){var _;r<=6?_=E:r<=13?_=o:r<=20?_=s:_=a,d.nsPsy.longfact[r]=_}for(r=0;r<u.SBMAX_s;r++){var _;r<=5?_=E:r<=10?_=o:r<=11?_=s:_=a,d.nsPsy.shortfact[r]=_}}}},this.on_pe=function(b,d,M,r,E,o){var s=b.internal_flags,a=0,_,i=E0(2),n,h=new x1(a),f=D.ResvMaxBits(b,r,h,o);a=h.bits;var V=a+f;for(V>H0.MAX_BITS_PER_GRANULE&&(V=H0.MAX_BITS_PER_GRANULE),_=0,n=0;n<s.channels_out;++n)M[n]=Math.min(H0.MAX_BITS_PER_CHANNEL,a/s.channels_out),i[n]=0|M[n]*d[E][n]/700-M[n],i[n]>r*3/4&&(i[n]=r*3/4),i[n]<0&&(i[n]=0),i[n]+M[n]>H0.MAX_BITS_PER_CHANNEL&&(i[n]=Math.max(0,H0.MAX_BITS_PER_CHANNEL-M[n])),_+=i[n];if(_>f)for(n=0;n<s.channels_out;++n)i[n]=f*i[n]/_;for(n=0;n<s.channels_out;++n)M[n]+=i[n],f-=i[n];for(_=0,n=0;n<s.channels_out;++n)_+=M[n];if(_>H0.MAX_BITS_PER_GRANULE){var w=0;for(n=0;n<s.channels_out;++n)M[n]*=H0.MAX_BITS_PER_GRANULE,M[n]/=_,w+=M[n]}return V},this.reduce_side=function(b,d,M,r){var E=.33*(.5-d)/.5;E<0&&(E=0),E>.5&&(E=.5);var o=0|E*.5*(b[0]+b[1]);o>H0.MAX_BITS_PER_CHANNEL-b[0]&&(o=H0.MAX_BITS_PER_CHANNEL-b[0]),o<0&&(o=0),b[1]>=125&&(b[1]-o>125?(b[0]<M&&(b[0]+=o),b[1]-=o):(b[0]+=b[1]-125,b[1]=125)),o=b[0]+b[1],o>r&&(b[0]=r*b[0]/o,b[1]=r*b[1]/o)},this.athAdjust=function(b,d,M){var r=90.30873362,E=94.82444863,o=R0.FAST_LOG10_X(d,10),s=b*b,a=0;return o-=M,s>1e-20&&(a=1+R0.FAST_LOG10_X(s,10/r)),a<0&&(a=0),o*=a,o+=M+r-E,Math.pow(10,.1*o)},this.calc_xmin=function(b,d,M,r){var E=0,o=b.internal_flags,s,a=0,_=0,i=o.ATH,n=M.xr,h=b.VBR==b0.vbr_mtrh?1:0,f=o.masking_lower;for((b.VBR==b0.vbr_mtrh||b.VBR==b0.vbr_mt)&&(f=1),s=0;s<M.psy_lmax;s++){var V,w,N,$,t,l;b.VBR==b0.vbr_rh||b.VBR==b0.vbr_mtrh?w=athAdjust(i.adjust,i.l[s],i.floor):w=i.adjust*i.l[s],t=M.width[s],N=w/t,$=n0,l=t>>1,V=0;do{var P,W;P=n[a]*n[a],V+=P,$+=P<N?P:N,a++,W=n[a]*n[a],V+=W,$+=W<N?W:N,a++}while(--l>0);if(V>w&&_++,s==u.SBPSY_l){var r0=w*o.nsPsy.longfact[s];$<r0&&($=r0)}if(h!=0&&(w=$),!b.ATHonly){var o0=d.en.l[s];if(o0>0){var r0;r0=V*d.thm.l[s]*f/o0,h!=0&&(r0*=o.nsPsy.longfact[s]),w<r0&&(w=r0)}}h!=0?r[E++]=w:r[E++]=w*o.nsPsy.longfact[s]}var h0=575;if(M.block_type!=u.SHORT_TYPE)for(var f0=576;f0--!=0&&P0.EQ(n[f0],0);)h0=f0;M.max_nonzero_coeff=h0;for(var S0=M.sfb_smin;s<M.psymax;S0++,s+=3){var t,c0,s0;for(b.VBR==b0.vbr_rh||b.VBR==b0.vbr_mtrh?s0=athAdjust(i.adjust,i.s[S0],i.floor):s0=i.adjust*i.s[S0],t=M.width[s],c0=0;c0<3;c0++){var V=0,w,N,$,l=t>>1;N=s0/t,$=n0;do{var P,W;P=n[a]*n[a],V+=P,$+=P<N?P:N,a++,W=n[a]*n[a],V+=W,$+=W<N?W:N,a++}while(--l>0);if(V>s0&&_++,S0==u.SBPSY_s){var r0=s0*o.nsPsy.shortfact[S0];$<r0&&($=r0)}if(h!=0?w=$:w=s0,!b.ATHonly&&!b.ATHshort){var o0=d.en.s[S0][c0];if(o0>0){var r0;r0=V*d.thm.s[S0][c0]*f/o0,h!=0&&(r0*=o.nsPsy.shortfact[S0]),w<r0&&(w=r0)}}h!=0?r[E++]=w:r[E++]=w*o.nsPsy.shortfact[S0]}b.useTemporal&&(r[E-3]>r[E-3+1]&&(r[E-3+1]+=(r[E-3]-r[E-3+1])*o.decay),r[E-3+1]>r[E-3+2]&&(r[E-3+2]+=(r[E-3+1]-r[E-3+2])*o.decay))}return _};function v(b){this.s=b}this.calc_noise_core=function(b,d,M,r){var E=0,o=d.s,s=b.l3_enc;if(o>b.count1)for(;M--!=0;){var a;a=b.xr[o],o++,E+=a*a,a=b.xr[o],o++,E+=a*a}else if(o>b.big_values){var _=v0(2);for(_[0]=0,_[1]=r;M--!=0;){var a;a=Math.abs(b.xr[o])-_[s[o]],o++,E+=a*a,a=Math.abs(b.xr[o])-_[s[o]],o++,E+=a*a}}else for(;M--!=0;){var a;a=Math.abs(b.xr[o])-e[s[o]]*r,o++,E+=a*a,a=Math.abs(b.xr[o])-e[s[o]]*r,o++,E+=a*a}return d.s=o,E},this.calc_noise=function(b,d,M,r,E){var o=0,s=0,a,_,i=0,n=0,h=0,f=-20,V=0,w=b.scalefac,N=0;for(r.over_SSD=0,a=0;a<b.psymax;a++){var $=b.global_gain-(w[N++]+(b.preflag!=0?K[a]:0)<<b.scalefac_scale+1)-b.subblock_gain[b.window[a]]*8,t=0;if(E!=null&&E.step[a]==$)t=E.noise[a],V+=b.width[a],M[o++]=t/d[s++],t=E.noise_log[a];else{var l=G($);if(_=b.width[a]>>1,V+b.width[a]>b.max_nonzero_coeff){var P;P=b.max_nonzero_coeff-V+1,P>0?_=P>>1:_=0}var W=new v(V);t=this.calc_noise_core(b,W,_,l),V=W.s,E!=null&&(E.step[a]=$,E.noise[a]=t),t=M[o++]=t/d[s++],t=R0.FAST_LOG10(Math.max(t,1e-20)),E!=null&&(E.noise_log[a]=t)}if(E!=null&&(E.global_gain=b.global_gain),h+=t,t>0){var r0;r0=Math.max(0|t*10+.5,1),r.over_SSD+=r0*r0,i++,n+=t}f=Math.max(f,t)}return r.over_count=i,r.tot_noise=h,r.over_noise=n,r.max_noise=f,i},this.set_pinfo=function(b,d,M,r,E){var o=b.internal_flags,s,a,_,i,n,h=d.scalefac_scale==0?.5:1,f=d.scalefac,V=v0(s1.SFBMAX),w=v0(s1.SFBMAX),N=new C1;calc_xmin(b,M,d,V),calc_noise(d,V,w,N,null);var $=0;for(a=d.sfb_lmax,d.block_type!=u.SHORT_TYPE&&d.mixed_block_flag==0&&(a=22),s=0;s<a;s++){var t=o.scalefac_band.l[s],l=o.scalefac_band.l[s+1],P=l-t;for(i=0;$<l;$++)i+=d.xr[$]*d.xr[$];i/=P,n=1e15,o.pinfo.en[r][E][s]=n*i,o.pinfo.xfsf[r][E][s]=n*V[s]*w[s]/P,M.en.l[s]>0&&!b.ATHonly?i=i/M.en.l[s]:i=0,o.pinfo.thr[r][E][s]=n*Math.max(i*M.thm.l[s],o.ATH.l[s]),o.pinfo.LAMEsfb[r][E][s]=0,d.preflag!=0&&s>=11&&(o.pinfo.LAMEsfb[r][E][s]=-h*K[s]),s<u.SBPSY_l&&(o.pinfo.LAMEsfb[r][E][s]-=h*f[s])}if(d.block_type==u.SHORT_TYPE)for(a=s,s=d.sfb_smin;s<u.SBMAX_s;s++)for(var t=o.scalefac_band.s[s],l=o.scalefac_band.s[s+1],P=l-t,W=0;W<3;W++){for(i=0,_=t;_<l;_++)i+=d.xr[$]*d.xr[$],$++;i=Math.max(i/P,1e-20),n=1e15,o.pinfo.en_s[r][E][3*s+W]=n*i,o.pinfo.xfsf_s[r][E][3*s+W]=n*V[a]*w[a]/P,M.en.s[s][W]>0?i=i/M.en.s[s][W]:i=0,(b.ATHonly||b.ATHshort)&&(i=0),o.pinfo.thr_s[r][E][3*s+W]=n*Math.max(i*M.thm.s[s][W],o.ATH.s[s]),o.pinfo.LAMEsfb_s[r][E][3*s+W]=-2*d.subblock_gain[W],s<u.SBPSY_s&&(o.pinfo.LAMEsfb_s[r][E][3*s+W]-=h*f[a]),a++}o.pinfo.LAMEqss[r][E]=d.global_gain,o.pinfo.LAMEmainbits[r][E]=d.part2_3_length+d.part2_length,o.pinfo.LAMEsfbits[r][E]=d.part2_length,o.pinfo.over[r][E]=N.over_count,o.pinfo.max_noise[r][E]=N.max_noise*10,o.pinfo.over_noise[r][E]=N.over_noise*10,o.pinfo.tot_noise[r][E]=N.tot_noise*10,o.pinfo.over_SSD[r][E]=N.over_SSD};function m(b,d){var M=b.internal_flags;M.masking_lower=1;for(var r=0;r<M.mode_gr;r++)for(var E=0;E<M.channels_out;E++){var o=M.l3_side.tt[r][E],s=E0(s1.SFBMAX);if(B0.arraycopy(o.scalefac,0,s,0,s.length),r==1){var a;for(a=0;a<o.sfb_lmax;a++)o.scalefac[a]<0&&(o.scalefac[a]=M.l3_side.tt[0][E].scalefac[a])}set_pinfo(b,o,d[r][E],r,E),B0.arraycopy(s,0,o.scalefac,0,s.length)}}}function Se(){this.global_gain=0,this.sfb_count1=0,this.step=E0(39),this.noise=v0(39),this.noise_log=v0(39)}function k1(){this.xr=v0(576),this.l3_enc=E0(576),this.scalefac=E0(s1.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=E0(3),this.subblock_gain=E0(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=E0(s1.SFBMAX),this.window=E0(s1.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=E0(4),this.max_nonzero_coeff=0;var x=this;function D(G){return new Int32Array(G)}function J(G){return new Float32Array(G)}this.assign=function(G){x.xr=J(G.xr),x.l3_enc=D(G.l3_enc),x.scalefac=D(G.scalefac),x.xrpow_max=G.xrpow_max,x.part2_3_length=G.part2_3_length,x.big_values=G.big_values,x.count1=G.count1,x.global_gain=G.global_gain,x.scalefac_compress=G.scalefac_compress,x.block_type=G.block_type,x.mixed_block_flag=G.mixed_block_flag,x.table_select=D(G.table_select),x.subblock_gain=D(G.subblock_gain),x.region0_count=G.region0_count,x.region1_count=G.region1_count,x.preflag=G.preflag,x.scalefac_scale=G.scalefac_scale,x.count1table_select=G.count1table_select,x.part2_length=G.part2_length,x.sfb_lmax=G.sfb_lmax,x.sfb_smin=G.sfb_smin,x.psy_lmax=G.psy_lmax,x.sfbmax=G.sfbmax,x.psymax=G.psymax,x.sfbdivide=G.sfbdivide,x.width=D(G.width),x.window=D(G.window),x.count1bits=G.count1bits,x.sfb_partition_table=G.sfb_partition_table.slice(0),x.slen=D(G.slen),x.max_nonzero_coeff=G.max_nonzero_coeff}}var s1={};s1.SFBMAX=u.SBMAX_s*3;function Ae(){var x;this.rv=null;var D;this.qupvt=null;var J,G=new ue,n0;this.setModules=function(R,v,m,b){x=R,D=v,this.rv=v,J=m,this.qupvt=m,n0=b,G.setModules(J,n0)},this.ms_convert=function(R,v){for(var m=0;m<576;++m){var b=R.tt[v][0].xr[m],d=R.tt[v][1].xr[m];R.tt[v][0].xr[m]=(b+d)*(R0.SQRT2*.5),R.tt[v][1].xr[m]=(b-d)*(R0.SQRT2*.5)}};function F(R,v,m,b){b=0;for(var d=0;d<=m;++d){var M=Math.abs(R.xr[d]);b+=M,v[d]=Math.sqrt(M*Math.sqrt(M)),v[d]>R.xrpow_max&&(R.xrpow_max=v[d])}return b}this.init_xrpow=function(R,v,m){var b=0,d=0|v.max_nonzero_coeff;if(v.xrpow_max=0,j0.fill(m,d,576,0),b=F(v,m,d,b),b>1e-20){var M=0;(R.substep_shaping&2)!=0&&(M=1);for(var r=0;r<v.psymax;r++)R.pseudohalf[r]=M;return!0}return j0.fill(v.l3_enc,0,576,0),!1};function j(R,v){var m=R.ATH,b=v.xr;if(v.block_type!=u.SHORT_TYPE)for(var d=!1,M=u.PSFB21-1;M>=0&&!d;M--){var r=R.scalefac_band.psfb21[M],E=R.scalefac_band.psfb21[M+1],o=J.athAdjust(m.adjust,m.psfb21[M],m.floor);R.nsPsy.longfact[21]>1e-12&&(o*=R.nsPsy.longfact[21]);for(var s=E-1;s>=r;s--)if(Math.abs(b[s])<o)b[s]=0;else{d=!0;break}}else for(var a=0;a<3;a++)for(var d=!1,M=u.PSFB12-1;M>=0&&!d;M--){var r=R.scalefac_band.s[12]*3+(R.scalefac_band.s[13]-R.scalefac_band.s[12])*a+(R.scalefac_band.psfb12[M]-R.scalefac_band.psfb12[0]),E=r+(R.scalefac_band.psfb12[M+1]-R.scalefac_band.psfb12[M]),_=J.athAdjust(m.adjust,m.psfb12[M],m.floor);R.nsPsy.shortfact[12]>1e-12&&(_*=R.nsPsy.shortfact[12]);for(var s=E-1;s>=r;s--)if(Math.abs(b[s])<_)b[s]=0;else{d=!0;break}}}this.init_outer_loop=function(R,v){v.part2_3_length=0,v.big_values=0,v.count1=0,v.global_gain=210,v.scalefac_compress=0,v.table_select[0]=0,v.table_select[1]=0,v.table_select[2]=0,v.subblock_gain[0]=0,v.subblock_gain[1]=0,v.subblock_gain[2]=0,v.subblock_gain[3]=0,v.region0_count=0,v.region1_count=0,v.preflag=0,v.scalefac_scale=0,v.count1table_select=0,v.part2_length=0,v.sfb_lmax=u.SBPSY_l,v.sfb_smin=u.SBPSY_s,v.psy_lmax=R.sfb21_extra?u.SBMAX_l:u.SBPSY_l,v.psymax=v.psy_lmax,v.sfbmax=v.sfb_lmax,v.sfbdivide=11;for(var m=0;m<u.SBMAX_l;m++)v.width[m]=R.scalefac_band.l[m+1]-R.scalefac_band.l[m],v.window[m]=3;if(v.block_type==u.SHORT_TYPE){var b=v0(576);v.sfb_smin=0,v.sfb_lmax=0,v.mixed_block_flag!=0&&(v.sfb_smin=3,v.sfb_lmax=R.mode_gr*2+4),v.psymax=v.sfb_lmax+3*((R.sfb21_extra?u.SBMAX_s:u.SBPSY_s)-v.sfb_smin),v.sfbmax=v.sfb_lmax+3*(u.SBPSY_s-v.sfb_smin),v.sfbdivide=v.sfbmax-18,v.psy_lmax=v.sfb_lmax;var d=R.scalefac_band.l[v.sfb_lmax];B0.arraycopy(v.xr,0,b,0,576);for(var m=v.sfb_smin;m<u.SBMAX_s;m++)for(var M=R.scalefac_band.s[m],r=R.scalefac_band.s[m+1],E=0;E<3;E++)for(var o=M;o<r;o++)v.xr[d++]=b[3*o+E];for(var s=v.sfb_lmax,m=v.sfb_smin;m<u.SBMAX_s;m++)v.width[s]=v.width[s+1]=v.width[s+2]=R.scalefac_band.s[m+1]-R.scalefac_band.s[m],v.window[s]=0,v.window[s+1]=1,v.window[s+2]=2,s+=3}v.count1bits=0,v.sfb_partition_table=J.nr_of_sfb_block[0][0],v.slen[0]=0,v.slen[1]=0,v.slen[2]=0,v.slen[3]=0,v.max_nonzero_coeff=575,j0.fill(v.scalefac,0),j(R,v)};function t0(R){this.ordinal=R}t0.BINSEARCH_NONE=new t0(0),t0.BINSEARCH_UP=new t0(1),t0.BINSEARCH_DOWN=new t0(2);function i0(R,v,m,b,d){var M,r=R.CurrentStep[b],E=!1,o=R.OldValue[b],s=t0.BINSEARCH_NONE;for(v.global_gain=o,m-=v.part2_length;;){var a;if(M=n0.count_bits(R,d,v,null),r==1||M==m)break;M>m?(s==t0.BINSEARCH_DOWN&&(E=!0),E&&(r/=2),s=t0.BINSEARCH_UP,a=r):(s==t0.BINSEARCH_UP&&(E=!0),E&&(r/=2),s=t0.BINSEARCH_DOWN,a=-r),v.global_gain+=a,v.global_gain<0&&(v.global_gain=0,E=!0),v.global_gain>255&&(v.global_gain=255,E=!0)}for(;M>m&&v.global_gain<255;)v.global_gain++,M=n0.count_bits(R,d,v,null);return R.CurrentStep[b]=o-v.global_gain>=4?4:2,R.OldValue[b]=v.global_gain,v.part2_3_length=M,M}this.trancate_smallspectrums=function(R,v,m,b){var d=v0(s1.SFBMAX);if(!((R.substep_shaping&4)==0&&v.block_type==u.SHORT_TYPE||(R.substep_shaping&128)!=0)){J.calc_noise(v,m,d,new C1,null);for(var r=0;r<576;r++){var M=0;v.l3_enc[r]!=0&&(M=Math.abs(v.xr[r])),b[r]=M}var r=0,E=8;v.block_type==u.SHORT_TYPE&&(E=6);do{var o,s,a,_,i=v.width[E];if(r+=i,!(d[E]>=1)&&(j0.sort(b,r-i,i),!P0.EQ(b[r-1],0))){o=(1-d[E])*m[E],s=0,_=0;do{var n;for(a=1;_+a<i&&!P0.NEQ(b[_+r-i],b[_+r+a-i]);a++);if(n=b[_+r-i]*b[_+r-i]*a,o<n){_!=0&&(s=b[_+r-i-1]);break}o-=n,_+=a}while(_<i);if(!P0.EQ(s,0))do Math.abs(v.xr[r-i])<=s&&(v.l3_enc[r-i]=0);while(--i>0)}}while(++E<v.psymax);v.part2_3_length=n0.noquant_count_bits(R,v,null)}};function O(R){for(var v=0;v<R.sfbmax;v++)if(R.scalefac[v]+R.subblock_gain[R.window[v]]==0)return!1;return!0}function H(R){return R0.FAST_LOG10(.368+.632*R*R*R)}function K(R,v){for(var m=1e-37,b=0;b<v.psymax;b++)m+=H(R[b]);return Math.max(1e-20,m)}function y(R,v,m,b,d){var M;switch(R){default:case 9:{v.over_count>0?(M=m.over_SSD<=v.over_SSD,m.over_SSD==v.over_SSD&&(M=m.bits<v.bits)):M=m.max_noise<0&&m.max_noise*10+m.bits<=v.max_noise*10+v.bits;break}case 0:M=m.over_count<v.over_count||m.over_count==v.over_count&&m.over_noise<v.over_noise||m.over_count==v.over_count&&P0.EQ(m.over_noise,v.over_noise)&&m.tot_noise<v.tot_noise;break;case 8:m.max_noise=K(d,b);case 1:M=m.max_noise<v.max_noise;break;case 2:M=m.tot_noise<v.tot_noise;break;case 3:M=m.tot_noise<v.tot_noise&&m.max_noise<v.max_noise;break;case 4:M=m.max_noise<=0&&v.max_noise>.2||m.max_noise<=0&&v.max_noise<0&&v.max_noise>m.max_noise-.2&&m.tot_noise<v.tot_noise||m.max_noise<=0&&v.max_noise>0&&v.max_noise>m.max_noise-.2&&m.tot_noise<v.tot_noise+v.over_noise||m.max_noise>0&&v.max_noise>-.05&&v.max_noise>m.max_noise-.1&&m.tot_noise+m.over_noise<v.tot_noise+v.over_noise||m.max_noise>0&&v.max_noise>-.1&&v.max_noise>m.max_noise-.15&&m.tot_noise+m.over_noise+m.over_noise<v.tot_noise+v.over_noise+v.over_noise;break;case 5:M=m.over_noise<v.over_noise||P0.EQ(m.over_noise,v.over_noise)&&m.tot_noise<v.tot_noise;break;case 6:M=m.over_noise<v.over_noise||P0.EQ(m.over_noise,v.over_noise)&&(m.max_noise<v.max_noise||P0.EQ(m.max_noise,v.max_noise)&&m.tot_noise<=v.tot_noise);break;case 7:M=m.over_count<v.over_count||m.over_noise<v.over_noise;break}return v.over_count==0&&(M=M&&m.bits<v.bits),M}function p(R,v,m,b,d){var M=R.internal_flags,r;v.scalefac_scale==0?r=1.2968395546510096:r=1.6817928305074292;for(var E=0,o=0;o<v.sfbmax;o++)E<m[o]&&(E=m[o]);var s=M.noise_shaping_amp;switch(s==3&&(d?s=2:s=1),s){case 2:break;case 1:E>1?E=Math.pow(E,.5):E*=.95;break;case 0:default:E>1?E=1:E*=.95;break}for(var a=0,o=0;o<v.sfbmax;o++){var _=v.width[o],i;if(a+=_,!(m[o]<E)){if((M.substep_shaping&2)!=0&&(M.pseudohalf[o]=M.pseudohalf[o]==0?1:0,M.pseudohalf[o]==0&&M.noise_shaping_amp==2))return;for(v.scalefac[o]++,i=-_;i<0;i++)b[a+i]*=r,b[a+i]>v.xrpow_max&&(v.xrpow_max=b[a+i]);if(M.noise_shaping_amp==2)return}}}function e(R,v){for(var m=1.2968395546510096,b=0,d=0;d<R.sfbmax;d++){var M=R.width[d],r=R.scalefac[d];if(R.preflag!=0&&(r+=J.pretab[d]),b+=M,(r&1)!=0){r++;for(var E=-M;E<0;E++)v[b+E]*=m,v[b+E]>R.xrpow_max&&(R.xrpow_max=v[b+E])}R.scalefac[d]=r>>1}R.preflag=0,R.scalefac_scale=1}function A(R,v,m){var b,d=v.scalefac;for(b=0;b<v.sfb_lmax;b++)if(d[b]>=16)return!0;for(var M=0;M<3;M++){var r=0,E=0;for(b=v.sfb_lmax+M;b<v.sfbdivide;b+=3)r<d[b]&&(r=d[b]);for(;b<v.sfbmax;b+=3)E<d[b]&&(E=d[b]);if(!(r<16&&E<8)){if(v.subblock_gain[M]>=7)return!0;v.subblock_gain[M]++;var o=R.scalefac_band.l[v.sfb_lmax];for(b=v.sfb_lmax+M;b<v.sfbmax;b+=3){var s,a=v.width[b],_=d[b];if(_=_-(4>>v.scalefac_scale),_>=0){d[b]=_,o+=a*3;continue}d[b]=0;{var i=210+(_<<v.scalefac_scale+1);s=J.IPOW20(i)}o+=a*(M+1);for(var n=-a;n<0;n++)m[o+n]*=s,m[o+n]>v.xrpow_max&&(v.xrpow_max=m[o+n]);o+=a*(3-M-1)}{var s=J.IPOW20(202);o+=v.width[b]*(M+1);for(var n=-v.width[b];n<0;n++)m[o+n]*=s,m[o+n]>v.xrpow_max&&(v.xrpow_max=m[o+n])}}}return!1}function I(R,v,m,b,d){var M=R.internal_flags;p(R,v,m,b,d);var r=O(v);return r?!1:(M.mode_gr==2?r=n0.scale_bitcount(v):r=n0.scale_bitcount_lsf(M,v),r?(M.noise_shaping>1&&(j0.fill(M.pseudohalf,0),v.scalefac_scale==0?(e(v,b),r=!1):v.block_type==u.SHORT_TYPE&&M.subblock_gain>0&&(r=A(M,v,b)||O(v))),r||(M.mode_gr==2?r=n0.scale_bitcount(v):r=n0.scale_bitcount_lsf(M,v)),!r):!0)}this.outer_loop=function(R,v,m,b,d,M){var r=R.internal_flags,E=new k1,o=v0(576),s=v0(s1.SFBMAX),a=new C1,_,i=new Se,n=9999999,h=!1,f=!1,V=0;if(i0(r,v,M,d,b),r.noise_shaping==0)return 100;J.calc_noise(v,m,s,a,i),a.bits=v.part2_3_length,E.assign(v);var w=0;for(B0.arraycopy(b,0,o,0,576);!h;){do{var N=new C1,$,t=255;if((r.substep_shaping&2)!=0?$=20:$=3,r.sfb21_extra&&(s[E.sfbmax]>1||E.block_type==u.SHORT_TYPE&&(s[E.sfbmax+1]>1||s[E.sfbmax+2]>1))||!I(R,E,s,b,f))break;E.scalefac_scale!=0&&(t=254);var l=M-E.part2_length;if(l<=0)break;for(;(E.part2_3_length=n0.count_bits(r,b,E,i))>l&&E.global_gain<=t;)E.global_gain++;if(E.global_gain>t)break;if(a.over_count==0){for(;(E.part2_3_length=n0.count_bits(r,b,E,i))>n&&E.global_gain<=t;)E.global_gain++;if(E.global_gain>t)break}if(J.calc_noise(E,m,s,N,i),N.bits=E.part2_3_length,v.block_type!=u.SHORT_TYPE?_=R.quant_comp:_=R.quant_comp_short,_=y(_,a,N,E,s)?1:0,_!=0)n=v.part2_3_length,a=N,v.assign(E),w=0,B0.arraycopy(b,0,o,0,576);else if(r.full_outer_loop==0&&(++w>$&&a.over_count==0||r.noise_shaping_amp==3&&f&&w>30||r.noise_shaping_amp==3&&f&&E.global_gain-V>15))break}while(E.global_gain+E.scalefac_scale<255);r.noise_shaping_amp==3?f?h=!0:(E.assign(v),B0.arraycopy(o,0,b,0,576),w=0,V=E.global_gain,f=!0):h=!0}return R.VBR==b0.vbr_rh||R.VBR==b0.vbr_mtrh?B0.arraycopy(o,0,b,0,576):(r.substep_shaping&1)!=0&&trancate_smallspectrums(r,v,m,b),a.over_count},this.iteration_finish_one=function(R,v,m){var b=R.l3_side,d=b.tt[v][m];n0.best_scalefac_store(R,v,m,b),R.use_best_huffman==1&&n0.best_huffman_divide(R,d),D.ResvAdjust(R,d)},this.VBR_encode_granule=function(R,v,m,b,d,M,r){var E=R.internal_flags,o=new k1,s=v0(576),a=r,_=r+1,i=(r+M)/2,n,h,f=0,V=E.sfb21_extra;j0.fill(o.l3_enc,0);do i>a-42?E.sfb21_extra=!1:E.sfb21_extra=V,h=outer_loop(R,v,m,b,d,i),h<=0?(f=1,_=v.part2_3_length,o.assign(v),B0.arraycopy(b,0,s,0,576),r=_-32,n=r-M,i=(r+M)/2):(M=i+32,n=r-M,i=(r+M)/2,f!=0&&(f=2,v.assign(o),B0.arraycopy(s,0,b,0,576)));while(n>12);E.sfb21_extra=V,f==2&&B0.arraycopy(o.l3_enc,0,v.l3_enc,0,576)},this.get_framebits=function(R,v){var m=R.internal_flags;m.bitrate_index=m.VBR_min_bitrate;var b=x.getframebits(R);m.bitrate_index=1,b=x.getframebits(R);for(var d=1;d<=m.VBR_max_bitrate;d++){m.bitrate_index=d;var M=new x1(b);v[d]=D.ResvFrameBegin(R,M),b=M.bits}},this.VBR_old_prepare=function(R,v,m,b,d,M,r,E,o){var s=R.internal_flags,a,_=0,i=1,n=0;s.bitrate_index=s.VBR_max_bitrate;var h=D.ResvFrameBegin(R,new x1(0))/s.mode_gr;get_framebits(R,M);for(var f=0;f<s.mode_gr;f++){var V=J.on_pe(R,v,E[f],h,f,0);s.mode_ext==u.MPG_MD_MS_LR&&(ms_convert(s.l3_side,f),J.reduce_side(E[f],m[f],h,V));for(var w=0;w<s.channels_out;++w){var N=s.l3_side.tt[f][w];N.block_type!=u.SHORT_TYPE?(_=1.28/(1+Math.exp(3.5-v[f][w]/300))-.05,a=s.PSY.mask_adjust-_):(_=2.56/(1+Math.exp(3.5-v[f][w]/300))-.14,a=s.PSY.mask_adjust_short-_),s.masking_lower=Math.pow(10,a*.1),init_outer_loop(s,N),o[f][w]=J.calc_xmin(R,b[f][w],N,d[f][w]),o[f][w]!=0&&(i=0),r[f][w]=126,n+=E[f][w]}}for(var f=0;f<s.mode_gr;f++)for(var w=0;w<s.channels_out;w++)n>M[s.VBR_max_bitrate]&&(E[f][w]*=M[s.VBR_max_bitrate],E[f][w]/=n),r[f][w]>E[f][w]&&(r[f][w]=E[f][w]);return i},this.bitpressure_strategy=function(R,v,m,b){for(var d=0;d<R.mode_gr;d++)for(var M=0;M<R.channels_out;M++){for(var r=R.l3_side.tt[d][M],E=v[d][M],o=0,s=0;s<r.psy_lmax;s++)E[o++]*=1+.029*s*s/u.SBMAX_l/u.SBMAX_l;if(r.block_type==u.SHORT_TYPE)for(var s=r.sfb_smin;s<u.SBMAX_s;s++)E[o++]*=1+.029*s*s/u.SBMAX_s/u.SBMAX_s,E[o++]*=1+.029*s*s/u.SBMAX_s/u.SBMAX_s,E[o++]*=1+.029*s*s/u.SBMAX_s/u.SBMAX_s;b[d][M]=0|Math.max(m[d][M],.9*b[d][M])}},this.VBR_new_prepare=function(R,v,m,b,d,M){var r=R.internal_flags,E=1,o=0,s=0,a;if(R.free_format){r.bitrate_index=0;var _=new x1(o);a=D.ResvFrameBegin(R,_),o=_.bits,d[0]=a}else{r.bitrate_index=r.VBR_max_bitrate;var _=new x1(o);D.ResvFrameBegin(R,_),o=_.bits,get_framebits(R,d),a=d[r.VBR_max_bitrate]}for(var i=0;i<r.mode_gr;i++){J.on_pe(R,v,M[i],o,i,0),r.mode_ext==u.MPG_MD_MS_LR&&ms_convert(r.l3_side,i);for(var n=0;n<r.channels_out;++n){var h=r.l3_side.tt[i][n];r.masking_lower=Math.pow(10,r.PSY.mask_adjust*.1),init_outer_loop(r,h),J.calc_xmin(R,m[i][n],h,b[i][n])!=0&&(E=0),s+=M[i][n]}}for(var i=0;i<r.mode_gr;i++)for(var n=0;n<r.channels_out;n++)s>a&&(M[i][n]*=a,M[i][n]/=s);return E},this.calc_target_bits=function(R,v,m,b,d,M){var r=R.internal_flags,E=r.l3_side,o,s,a,_,i=0;r.bitrate_index=r.VBR_max_bitrate;var n=new x1(i);for(M[0]=D.ResvFrameBegin(R,n),i=n.bits,r.bitrate_index=1,i=x.getframebits(R)-r.sideinfo_len*8,d[0]=i/(r.mode_gr*r.channels_out),i=R.VBR_mean_bitrate_kbps*R.framesize*1e3,(r.substep_shaping&1)!=0&&(i*=1.09),i/=R.out_samplerate,i-=r.sideinfo_len*8,i/=r.mode_gr*r.channels_out,o=.93+.07*(11-R.compression_ratio)/(11-5.5),o<.9&&(o=.9),o>1&&(o=1),s=0;s<r.mode_gr;s++){var h=0;for(a=0;a<r.channels_out;a++){if(b[s][a]=int(o*i),v[s][a]>700){var f=int((v[s][a]-700)/1.4),V=E.tt[s][a];b[s][a]=int(o*i),V.block_type==u.SHORT_TYPE&&f<i/2&&(f=i/2),f>i*3/2?f=i*3/2:f<0&&(f=0),b[s][a]+=f}b[s][a]>H0.MAX_BITS_PER_CHANNEL&&(b[s][a]=H0.MAX_BITS_PER_CHANNEL),h+=b[s][a]}if(h>H0.MAX_BITS_PER_GRANULE)for(a=0;a<r.channels_out;++a)b[s][a]*=H0.MAX_BITS_PER_GRANULE,b[s][a]/=h}if(r.mode_ext==u.MPG_MD_MS_LR)for(s=0;s<r.mode_gr;s++)J.reduce_side(b[s],m[s],i*r.channels_out,H0.MAX_BITS_PER_GRANULE);for(_=0,s=0;s<r.mode_gr;s++)for(a=0;a<r.channels_out;a++)b[s][a]>H0.MAX_BITS_PER_CHANNEL&&(b[s][a]=H0.MAX_BITS_PER_CHANNEL),_+=b[s][a];if(_>M[0])for(s=0;s<r.mode_gr;s++)for(a=0;a<r.channels_out;a++)b[s][a]*=M[0],b[s][a]/=_}}function de(){var x=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*R0.SQRT2*.5/2384e-9,.017876148*R0.SQRT2*.5/2384e-9,.003134727*R0.SQRT2*.5/2384e-9,.002457142*R0.SQRT2*.5/2384e-9,971317e-9*R0.SQRT2*.5/2384e-9,218868e-9*R0.SQRT2*.5/2384e-9,101566e-9*R0.SQRT2*.5/2384e-9,13828e-9*R0.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],D=12,J=36,G=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],n0=G[u.SHORT_TYPE],F=G[u.SHORT_TYPE],j=G[u.SHORT_TYPE],t0=G[u.SHORT_TYPE],i0=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function O(y,p,e){for(var A=10,I=p+238-14-286,R=-15;R<0;R++){var v,m,b;v=x[A+-10],m=y[I+-224]*v,b=y[p+224]*v,v=x[A+-9],m+=y[I+-160]*v,b+=y[p+160]*v,v=x[A+-8],m+=y[I+-96]*v,b+=y[p+96]*v,v=x[A+-7],m+=y[I+-32]*v,b+=y[p+32]*v,v=x[A+-6],m+=y[I+32]*v,b+=y[p+-32]*v,v=x[A+-5],m+=y[I+96]*v,b+=y[p+-96]*v,v=x[A+-4],m+=y[I+160]*v,b+=y[p+-160]*v,v=x[A+-3],m+=y[I+224]*v,b+=y[p+-224]*v,v=x[A+-2],m+=y[p+-256]*v,b-=y[I+256]*v,v=x[A+-1],m+=y[p+-192]*v,b-=y[I+192]*v,v=x[A+0],m+=y[p+-128]*v,b-=y[I+128]*v,v=x[A+1],m+=y[p+-64]*v,b-=y[I+64]*v,v=x[A+2],m+=y[p+0]*v,b-=y[I+0]*v,v=x[A+3],m+=y[p+64]*v,b-=y[I+-64]*v,v=x[A+4],m+=y[p+128]*v,b-=y[I+-128]*v,v=x[A+5],m+=y[p+192]*v,b-=y[I+-192]*v,m*=x[A+6],v=b-m,e[30+R*2]=b+m,e[31+R*2]=x[A+7]*v,A+=18,p--,I++}{var m,b,d,M;b=y[p+-16]*x[A+-10],m=y[p+-32]*x[A+-2],b+=(y[p+-48]-y[p+16])*x[A+-9],m+=y[p+-96]*x[A+-1],b+=(y[p+-80]+y[p+48])*x[A+-8],m+=y[p+-160]*x[A+0],b+=(y[p+-112]-y[p+80])*x[A+-7],m+=y[p+-224]*x[A+1],b+=(y[p+-144]+y[p+112])*x[A+-6],m-=y[p+32]*x[A+2],b+=(y[p+-176]-y[p+144])*x[A+-5],m-=y[p+96]*x[A+3],b+=(y[p+-208]+y[p+176])*x[A+-4],m-=y[p+160]*x[A+4],b+=(y[p+-240]-y[p+208])*x[A+-3],m-=y[p+224],d=m-b,M=m+b,b=e[14],m=e[15]-b,e[31]=M+b,e[30]=d+m,e[15]=d-m,e[14]=M-b}{var r;r=e[28]-e[0],e[0]+=e[28],e[28]=r*x[A+-2*18+7],r=e[29]-e[1],e[1]+=e[29],e[29]=r*x[A+-2*18+7],r=e[26]-e[2],e[2]+=e[26],e[26]=r*x[A+-4*18+7],r=e[27]-e[3],e[3]+=e[27],e[27]=r*x[A+-4*18+7],r=e[24]-e[4],e[4]+=e[24],e[24]=r*x[A+-6*18+7],r=e[25]-e[5],e[5]+=e[25],e[25]=r*x[A+-6*18+7],r=e[22]-e[6],e[6]+=e[22],e[22]=r*R0.SQRT2,r=e[23]-e[7],e[7]+=e[23],e[23]=r*R0.SQRT2-e[7],e[7]-=e[6],e[22]-=e[7],e[23]-=e[22],r=e[6],e[6]=e[31]-r,e[31]=e[31]+r,r=e[7],e[7]=e[30]-r,e[30]=e[30]+r,r=e[22],e[22]=e[15]-r,e[15]=e[15]+r,r=e[23],e[23]=e[14]-r,e[14]=e[14]+r,r=e[20]-e[8],e[8]+=e[20],e[20]=r*x[A+-10*18+7],r=e[21]-e[9],e[9]+=e[21],e[21]=r*x[A+-10*18+7],r=e[18]-e[10],e[10]+=e[18],e[18]=r*x[A+-12*18+7],r=e[19]-e[11],e[11]+=e[19],e[19]=r*x[A+-12*18+7],r=e[16]-e[12],e[12]+=e[16],e[16]=r*x[A+-14*18+7],r=e[17]-e[13],e[13]+=e[17],e[17]=r*x[A+-14*18+7],r=-e[20]+e[24],e[20]+=e[24],e[24]=r*x[A+-12*18+7],r=-e[21]+e[25],e[21]+=e[25],e[25]=r*x[A+-12*18+7],r=e[4]-e[8],e[4]+=e[8],e[8]=r*x[A+-12*18+7],r=e[5]-e[9],e[5]+=e[9],e[9]=r*x[A+-12*18+7],r=e[0]-e[12],e[0]+=e[12],e[12]=r*x[A+-4*18+7],r=e[1]-e[13],e[1]+=e[13],e[13]=r*x[A+-4*18+7],r=e[16]-e[28],e[16]+=e[28],e[28]=r*x[A+-4*18+7],r=-e[17]+e[29],e[17]+=e[29],e[29]=r*x[A+-4*18+7],r=R0.SQRT2*(e[2]-e[10]),e[2]+=e[10],e[10]=r,r=R0.SQRT2*(e[3]-e[11]),e[3]+=e[11],e[11]=r,r=R0.SQRT2*(-e[18]+e[26]),e[18]+=e[26],e[26]=r-e[18],r=R0.SQRT2*(-e[19]+e[27]),e[19]+=e[27],e[27]=r-e[19],r=e[2],e[19]-=e[3],e[3]-=r,e[2]=e[31]-r,e[31]+=r,r=e[3],e[11]-=e[19],e[18]-=r,e[3]=e[30]-r,e[30]+=r,r=e[18],e[27]-=e[11],e[19]-=r,e[18]=e[15]-r,e[15]+=r,r=e[19],e[10]-=r,e[19]=e[14]-r,e[14]+=r,r=e[10],e[11]-=r,e[10]=e[23]-r,e[23]+=r,r=e[11],e[26]-=r,e[11]=e[22]-r,e[22]+=r,r=e[26],e[27]-=r,e[26]=e[7]-r,e[7]+=r,r=e[27],e[27]=e[6]-r,e[6]+=r,r=R0.SQRT2*(e[0]-e[4]),e[0]+=e[4],e[4]=r,r=R0.SQRT2*(e[1]-e[5]),e[1]+=e[5],e[5]=r,r=R0.SQRT2*(e[16]-e[20]),e[16]+=e[20],e[20]=r,r=R0.SQRT2*(e[17]-e[21]),e[17]+=e[21],e[21]=r,r=-R0.SQRT2*(e[8]-e[12]),e[8]+=e[12],e[12]=r-e[8],r=-R0.SQRT2*(e[9]-e[13]),e[9]+=e[13],e[13]=r-e[9],r=-R0.SQRT2*(e[25]-e[29]),e[25]+=e[29],e[29]=r-e[25],r=-R0.SQRT2*(e[24]+e[28]),e[24]-=e[28],e[28]=r-e[24],r=e[24]-e[16],e[24]=r,r=e[20]-r,e[20]=r,r=e[28]-r,e[28]=r,r=e[25]-e[17],e[25]=r,r=e[21]-r,e[21]=r,r=e[29]-r,e[29]=r,r=e[17]-e[1],e[17]=r,r=e[9]-r,e[9]=r,r=e[25]-r,e[25]=r,r=e[5]-r,e[5]=r,r=e[21]-r,e[21]=r,r=e[13]-r,e[13]=r,r=e[29]-r,e[29]=r,r=e[1]-e[0],e[1]=r,r=e[16]-r,e[16]=r,r=e[17]-r,e[17]=r,r=e[8]-r,e[8]=r,r=e[9]-r,e[9]=r,r=e[24]-r,e[24]=r,r=e[25]-r,e[25]=r,r=e[4]-r,e[4]=r,r=e[5]-r,e[5]=r,r=e[20]-r,e[20]=r,r=e[21]-r,e[21]=r,r=e[12]-r,e[12]=r,r=e[13]-r,e[13]=r,r=e[28]-r,e[28]=r,r=e[29]-r,e[29]=r,r=e[0],e[0]+=e[31],e[31]-=r,r=e[1],e[1]+=e[30],e[30]-=r,r=e[16],e[16]+=e[15],e[15]-=r,r=e[17],e[17]+=e[14],e[14]-=r,r=e[8],e[8]+=e[23],e[23]-=r,r=e[9],e[9]+=e[22],e[22]-=r,r=e[24],e[24]+=e[7],e[7]-=r,r=e[25],e[25]+=e[6],e[6]-=r,r=e[4],e[4]+=e[27],e[27]-=r,r=e[5],e[5]+=e[26],e[26]-=r,r=e[20],e[20]+=e[11],e[11]-=r,r=e[21],e[21]+=e[10],e[10]-=r,r=e[12],e[12]+=e[19],e[19]-=r,r=e[13],e[13]+=e[18],e[18]-=r,r=e[28],e[28]+=e[3],e[3]-=r,r=e[29],e[29]+=e[2],e[2]-=r}}function H(y,p){for(var e=0;e<3;e++){var A,I,R,v,m,b;v=y[p+2*3]*G[u.SHORT_TYPE][0]-y[p+5*3],A=y[p+0*3]*G[u.SHORT_TYPE][2]-y[p+3*3],I=v+A,R=v-A,v=y[p+5*3]*G[u.SHORT_TYPE][0]+y[p+2*3],A=y[p+3*3]*G[u.SHORT_TYPE][2]+y[p+0*3],m=v+A,b=-v+A,A=(y[p+1*3]*G[u.SHORT_TYPE][1]-y[p+4*3])*2069978111953089e-26,v=(y[p+4*3]*G[u.SHORT_TYPE][1]+y[p+1*3])*2069978111953089e-26,y[p+3*0]=I*190752519173728e-25+A,y[p+3*5]=-m*190752519173728e-25+v,R=R*.8660254037844387*1907525191737281e-26,m=m*.5*1907525191737281e-26+v,y[p+3*1]=R-m,y[p+3*2]=R+m,I=I*.5*1907525191737281e-26-A,b=b*.8660254037844387*1907525191737281e-26,y[p+3*3]=I+b,y[p+3*4]=I-b,p++}}function K(y,p,e){var A,I;{var R,v,m,b,d,M,r,E;R=e[17]-e[9],m=e[15]-e[11],b=e[14]-e[12],d=e[0]+e[8],M=e[1]+e[7],r=e[2]+e[6],E=e[3]+e[5],y[p+17]=d+r-E-(M-e[4]),I=(d+r-E)*F[19]+(M-e[4]),A=(R-m-b)*F[18],y[p+5]=A+I,y[p+6]=A-I,v=(e[16]-e[10])*F[18],M=M*F[19]+e[4],A=R*F[12]+v+m*F[13]+b*F[14],I=-d*F[16]+M-r*F[17]+E*F[15],y[p+1]=A+I,y[p+2]=A-I,A=R*F[13]-v-m*F[14]+b*F[12],I=-d*F[17]+M-r*F[15]+E*F[16],y[p+9]=A+I,y[p+10]=A-I,A=R*F[14]-v+m*F[12]-b*F[13],I=d*F[15]-M+r*F[16]-E*F[17],y[p+13]=A+I,y[p+14]=A-I}{var o,s,a,_,i,n,h,f;o=e[8]-e[0],a=e[6]-e[2],_=e[5]-e[3],i=e[17]+e[9],n=e[16]+e[10],h=e[15]+e[11],f=e[14]+e[12],y[p+0]=i+h+f+(n+e[13]),A=(i+h+f)*F[19]-(n+e[13]),I=(o-a+_)*F[18],y[p+11]=A+I,y[p+12]=A-I,s=(e[7]-e[1])*F[18],n=e[13]-n*F[19],A=i*F[15]-n+h*F[16]+f*F[17],I=o*F[14]+s+a*F[12]+_*F[13],y[p+3]=A+I,y[p+4]=A-I,A=-i*F[17]+n-h*F[15]-f*F[16],I=o*F[13]+s-a*F[14]-_*F[12],y[p+7]=A+I,y[p+8]=A-I,A=-i*F[16]+n-h*F[17]-f*F[15],I=o*F[12]-s+a*F[13]-_*F[14],y[p+15]=A+I,y[p+16]=A-I}}this.mdct_sub48=function(y,p,e){for(var A=p,I=286,R=0;R<y.channels_out;R++){for(var v=0;v<y.mode_gr;v++){for(var m,b=y.l3_side.tt[v][R],d=b.xr,M=0,r=y.sb_sample[R][1-v],E=0,o=0;o<18/2;o++)for(O(A,I,r[E]),O(A,I+32,r[E+1]),E+=2,I+=64,m=1;m<32;m+=2)r[E-1][m]*=-1;for(m=0;m<32;m++,M+=18){var s=b.block_type,a=y.sb_sample[R][v],_=y.sb_sample[R][1-v];if(b.mixed_block_flag!=0&&m<2&&(s=0),y.amp_filter[m]<1e-12)j0.fill(d,M+0,M+18,0);else{if(y.amp_filter[m]<1)for(var o=0;o<18;o++)_[o][i0[m]]*=y.amp_filter[m];if(s==u.SHORT_TYPE){for(var o=-D/4;o<0;o++){var i=G[u.SHORT_TYPE][o+3];d[M+o*3+9]=a[9+o][i0[m]]*i-a[8-o][i0[m]],d[M+o*3+18]=a[14-o][i0[m]]*i+a[15+o][i0[m]],d[M+o*3+10]=a[15+o][i0[m]]*i-a[14-o][i0[m]],d[M+o*3+19]=_[2-o][i0[m]]*i+_[3+o][i0[m]],d[M+o*3+11]=_[3+o][i0[m]]*i-_[2-o][i0[m]],d[M+o*3+20]=_[8-o][i0[m]]*i+_[9+o][i0[m]]}H(d,M)}else{for(var n=v0(18),o=-J/4;o<0;o++){var h,f;h=G[s][o+27]*_[o+9][i0[m]]+G[s][o+36]*_[8-o][i0[m]],f=G[s][o+9]*a[o+9][i0[m]]-G[s][o+18]*a[8-o][i0[m]],n[o+9]=h-f*n0[3+o+9],n[o+18]=h*n0[3+o+9]+f}K(d,M,n)}}if(s!=u.SHORT_TYPE&&m!=0)for(var o=7;o>=0;--o){var V,w;V=d[M+o]*j[20+o]+d[M+-1-o]*t0[28+o],w=d[M+o]*t0[28+o]-d[M+-1-o]*j[20+o],d[M+-1-o]=V,d[M+o]=w}}}if(A=e,I=286,y.mode_gr==1)for(var N=0;N<18;N++)B0.arraycopy(y.sb_sample[R][1][N],0,y.sb_sample[R][0][N],0,32)}}}function c1(){this.thm=new X1,this.en=new X1}u.ENCDELAY=576,u.POSTDELAY=1152,u.MDCTDELAY=48,u.FFTOFFSET=224+u.MDCTDELAY,u.DECDELAY=528,u.SBLIMIT=32,u.CBANDS=64,u.SBPSY_l=21,u.SBPSY_s=12,u.SBMAX_l=22,u.SBMAX_s=13,u.PSFB21=6,u.PSFB12=6,u.BLKSIZE=1024,u.HBLKSIZE=u.BLKSIZE/2+1,u.BLKSIZE_s=256,u.HBLKSIZE_s=u.BLKSIZE_s/2+1,u.NORM_TYPE=0,u.START_TYPE=1,u.SHORT_TYPE=2,u.STOP_TYPE=3,u.MPG_MD_LR_LR=0,u.MPG_MD_LR_I=1,u.MPG_MD_MS_LR=2,u.MPG_MD_MS_I=3,u.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function u(){var x=u.FFTOFFSET,D=u.MPG_MD_MS_LR,J=null;this.psy=null;var G=null,n0=null,F=null;this.setModules=function(H,K,y,p){J=H,this.psy=K,G=K,n0=p,F=y};var j=new de;function t0(H){var K,y;if(H.ATH.useAdjust==0){H.ATH.adjust=1;return}if(y=H.loudness_sq[0][0],K=H.loudness_sq[1][0],H.channels_out==2?(y+=H.loudness_sq[0][1],K+=H.loudness_sq[1][1]):(y+=y,K+=K),H.mode_gr==2&&(y=Math.max(y,K)),y*=.5,y*=H.ATH.aaSensitivityP,y>.03125)H.ATH.adjust>=1?H.ATH.adjust=1:H.ATH.adjust<H.ATH.adjustLimit&&(H.ATH.adjust=H.ATH.adjustLimit),H.ATH.adjustLimit=1;else{var p=31.98*y+625e-6;H.ATH.adjust>=p?(H.ATH.adjust*=p*.075+.925,H.ATH.adjust<p&&(H.ATH.adjust=p)):H.ATH.adjustLimit>=p?H.ATH.adjust=p:H.ATH.adjust<H.ATH.adjustLimit&&(H.ATH.adjust=H.ATH.adjustLimit),H.ATH.adjustLimit=p}}function i0(H){var K,y;for(H.bitrate_stereoMode_Hist[H.bitrate_index][4]++,H.bitrate_stereoMode_Hist[15][4]++,H.channels_out==2&&(H.bitrate_stereoMode_Hist[H.bitrate_index][H.mode_ext]++,H.bitrate_stereoMode_Hist[15][H.mode_ext]++),K=0;K<H.mode_gr;++K)for(y=0;y<H.channels_out;++y){var p=H.l3_side.tt[K][y].block_type|0;H.l3_side.tt[K][y].mixed_block_flag!=0&&(p=4),H.bitrate_blockType_Hist[H.bitrate_index][p]++,H.bitrate_blockType_Hist[H.bitrate_index][5]++,H.bitrate_blockType_Hist[15][p]++,H.bitrate_blockType_Hist[15][5]++}}function O(H,K){var y=H.internal_flags,p,e;if(y.lame_encode_frame_init==0){var A,I,R=v0(2014),v=v0(2014);for(y.lame_encode_frame_init=1,A=0,I=0;A<286+576*(1+y.mode_gr);++A)A<576*y.mode_gr?(R[A]=0,y.channels_out==2&&(v[A]=0)):(R[A]=K[0][I],y.channels_out==2&&(v[A]=K[1][I]),++I);for(e=0;e<y.mode_gr;e++)for(p=0;p<y.channels_out;p++)y.l3_side.tt[e][p].block_type=u.SHORT_TYPE;j.mdct_sub48(y,R,v)}}this.lame_encode_mp3_frame=function(H,K,y,p,e,A){var I,R=V1([2,2]);R[0][0]=new c1,R[0][1]=new c1,R[1][0]=new c1,R[1][1]=new c1;var v=V1([2,2]);v[0][0]=new c1,v[0][1]=new c1,v[1][0]=new c1,v[1][1]=new c1;var m,b=[null,null],d=H.internal_flags,M=X0([2,4]),r=[.5,.5],E=[[0,0],[0,0]],o=[[0,0],[0,0]],s,a,_;if(b[0]=K,b[1]=y,d.lame_encode_frame_init==0&&O(H,b),d.padding=0,(d.slot_lag-=d.frac_SpF)<0&&(d.slot_lag+=H.out_samplerate,d.padding=1),d.psymodel!=0){var i,n=[null,null],h=0,f=E0(2);for(_=0;_<d.mode_gr;_++){for(a=0;a<d.channels_out;a++)n[a]=b[a],h=576+_*576-u.FFTOFFSET;if(H.VBR==b0.vbr_mtrh||H.VBR==b0.vbr_mt?i=G.L3psycho_anal_vbr(H,n,h,_,R,v,E[_],o[_],M[_],f):i=G.L3psycho_anal_ns(H,n,h,_,R,v,E[_],o[_],M[_],f),i!=0)return-4;for(H.mode==p0.JOINT_STEREO&&(r[_]=M[_][2]+M[_][3],r[_]>0&&(r[_]=M[_][3]/r[_])),a=0;a<d.channels_out;a++){var V=d.l3_side.tt[_][a];V.block_type=f[a],V.mixed_block_flag=0}}}else for(_=0;_<d.mode_gr;_++)for(a=0;a<d.channels_out;a++)d.l3_side.tt[_][a].block_type=u.NORM_TYPE,d.l3_side.tt[_][a].mixed_block_flag=0,o[_][a]=E[_][a]=700;if(t0(d),j.mdct_sub48(d,b[0],b[1]),d.mode_ext=u.MPG_MD_LR_LR,H.force_ms)d.mode_ext=u.MPG_MD_MS_LR;else if(H.mode==p0.JOINT_STEREO){var w=0,N=0;for(_=0;_<d.mode_gr;_++)for(a=0;a<d.channels_out;a++)w+=o[_][a],N+=E[_][a];if(w<=1*N){var $=d.l3_side.tt[0],t=d.l3_side.tt[d.mode_gr-1];$[0].block_type==$[1].block_type&&t[0].block_type==t[1].block_type&&(d.mode_ext=u.MPG_MD_MS_LR)}}if(d.mode_ext==D?(m=v,s=o):(m=R,s=E),H.analysis&&d.pinfo!=null)for(_=0;_<d.mode_gr;_++)for(a=0;a<d.channels_out;a++)d.pinfo.ms_ratio[_]=d.ms_ratio[_],d.pinfo.ms_ener_ratio[_]=r[_],d.pinfo.blocktype[_][a]=d.l3_side.tt[_][a].block_type,d.pinfo.pe[_][a]=s[_][a],B0.arraycopy(d.l3_side.tt[_][a].xr,0,d.pinfo.xr[_][a],0,576),d.mode_ext==D&&(d.pinfo.ers[_][a]=d.pinfo.ers[_][a+2],B0.arraycopy(d.pinfo.energy[_][a+2],0,d.pinfo.energy[_][a],0,d.pinfo.energy[_][a].length));if(H.VBR==b0.vbr_off||H.VBR==b0.vbr_abr){var l,P;for(l=0;l<18;l++)d.nsPsy.pefirbuf[l]=d.nsPsy.pefirbuf[l+1];for(P=0,_=0;_<d.mode_gr;_++)for(a=0;a<d.channels_out;a++)P+=s[_][a];for(d.nsPsy.pefirbuf[18]=P,P=d.nsPsy.pefirbuf[9],l=0;l<9;l++)P+=(d.nsPsy.pefirbuf[l]+d.nsPsy.pefirbuf[18-l])*u.fircoef[l];for(P=670*5*d.mode_gr*d.channels_out/P,_=0;_<d.mode_gr;_++)for(a=0;a<d.channels_out;a++)s[_][a]*=P}if(d.iteration_loop.iteration_loop(H,s,r,m),J.format_bitstream(H),I=J.copy_buffer(d,p,e,A,1),H.bWriteVbrTag&&n0.addVbrFrame(H),H.analysis&&d.pinfo!=null){for(a=0;a<d.channels_out;a++){var W;for(W=0;W<x;W++)d.pinfo.pcmdata[a][W]=d.pinfo.pcmdata[a][W+H.framesize];for(W=x;W<1600;W++)d.pinfo.pcmdata[a][W]=b[a][W-x]}F.set_frame_pinfo(H,m)}return i0(d),I}}function xe(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}function Re(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[E0(4),E0(4)];for(var x=0;x<2;x++)for(var D=0;D<2;D++)this.tt[x][D]=new k1}function Me(){this.last_en_subshort=X0([4,9]),this.lastAttacks=E0(4),this.pefirbuf=v0(19),this.longfact=v0(u.SBMAX_l),this.shortfact=v0(u.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function X1(){this.l=v0(u.SBMAX_l),this.s=X0([u.SBMAX_s,3]);var x=this;this.assign=function(D){B0.arraycopy(D.l,0,x.l,0,u.SBMAX_l);for(var J=0;J<u.SBMAX_s;J++)for(var G=0;G<3;G++)x.s[J][G]=D.s[J][G]}}H0.MFSIZE=3*1152+u.ENCDELAY-u.MDCTDELAY,H0.MAX_HEADER_BUF=256,H0.MAX_BITS_PER_CHANNEL=4095,H0.MAX_BITS_PER_GRANULE=7680,H0.BPC=320;function H0(){var x=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=X0([2,H0.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new Re,this.ms_ratio=v0(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=E0(2),this.CurrentStep=E0(2),this.masking_lower=0,this.bv_scf=E0(576),this.pseudohalf=E0(s1.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*H0.BPC+1),this.itime=$1(2),this.sideinfo_len=0,this.sb_sample=X0([2,2,18,u.SBLIMIT]),this.amp_filter=v0(32);function D(){this.write_timing=0,this.ptr=0,this.buf=u1(x)}this.header=new Array(H0.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new o1,this.minval_l=v0(u.CBANDS),this.minval_s=v0(u.CBANDS),this.nb_1=X0([4,u.CBANDS]),this.nb_2=X0([4,u.CBANDS]),this.nb_s1=X0([4,u.CBANDS]),this.nb_s2=X0([4,u.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=v0(4),this.loudness_sq=X0([2,2]),this.loudness_sq_save=v0(2),this.mld_l=v0(u.SBMAX_l),this.mld_s=v0(u.SBMAX_s),this.bm_l=E0(u.SBMAX_l),this.bo_l=E0(u.SBMAX_l),this.bm_s=E0(u.SBMAX_s),this.bo_s=E0(u.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=b1([u.CBANDS,2]),this.s3ind_s=b1([u.CBANDS,2]),this.numlines_s=E0(u.CBANDS),this.numlines_l=E0(u.CBANDS),this.rnumlines_l=v0(u.CBANDS),this.mld_cb_l=v0(u.CBANDS),this.mld_cb_s=v0(u.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=v0(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=E0(2),this.nsPsy=new Me,this.VBR_seek_table=new xe,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=b1([16,5]),this.bitrate_blockType_Hist=b1([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var J=0;J<this.en.length;J++)this.en[J]=new X1;for(var J=0;J<this.thm.length;J++)this.thm[J]=new X1;for(var J=0;J<this.header.length;J++)this.header[J]=new D}function Ee(){var x=v0(u.BLKSIZE),D=v0(u.BLKSIZE_s/2),J=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function G(F,j,t0){var i0=0,O,H,K;t0<<=1;var y=j+t0;O=4;do{var p,e,A,I,R,v,m;m=O>>1,I=O,R=O<<1,v=R+I,O=R<<1,H=j,K=H+m;do{var b,d,M,r;d=F[H+0]-F[H+I],b=F[H+0]+F[H+I],r=F[H+R]-F[H+v],M=F[H+R]+F[H+v],F[H+R]=b-M,F[H+0]=b+M,F[H+v]=d-r,F[H+I]=d+r,d=F[K+0]-F[K+I],b=F[K+0]+F[K+I],r=R0.SQRT2*F[K+v],M=R0.SQRT2*F[K+R],F[K+R]=b-M,F[K+0]=b+M,F[K+v]=d-r,F[K+I]=d+r,K+=O,H+=O}while(H<y);for(e=J[i0+0],p=J[i0+1],A=1;A<m;A++){var E,o;E=1-2*p*p,o=2*p*e,H=j+A,K=j+I-A;do{var s,a,_,b,d,i,M,n,r,h;a=o*F[H+I]-E*F[K+I],s=E*F[H+I]+o*F[K+I],d=F[H+0]-s,b=F[H+0]+s,i=F[K+0]-a,_=F[K+0]+a,a=o*F[H+v]-E*F[K+v],s=E*F[H+v]+o*F[K+v],r=F[H+R]-s,M=F[H+R]+s,h=F[K+R]-a,n=F[K+R]+a,a=p*M-e*h,s=e*M+p*h,F[H+R]=b-s,F[H+0]=b+s,F[K+v]=i-a,F[K+I]=i+a,a=e*n-p*r,s=p*n+e*r,F[K+R]=_-s,F[K+0]=_+s,F[H+v]=d-a,F[H+I]=d+a,K+=O,H+=O}while(H<y);E=e,e=E*J[i0+0]-p*J[i0+1],p=E*J[i0+1]+p*J[i0+0]}i0+=2}while(O<t0)}var n0=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(F,j,t0,i0,O){for(var H=0;H<3;H++){var K=u.BLKSIZE_s/2,y=65535&576/3*(H+1),p=u.BLKSIZE_s/8-1;do{var e,A,I,R,v,m=n0[p<<2]&255;e=D[m]*i0[t0][O+m+y],v=D[127-m]*i0[t0][O+m+y+128],A=e-v,e=e+v,I=D[m+64]*i0[t0][O+m+y+64],v=D[63-m]*i0[t0][O+m+y+192],R=I-v,I=I+v,K-=4,j[H][K+0]=e+I,j[H][K+2]=e-I,j[H][K+1]=A+R,j[H][K+3]=A-R,e=D[m+1]*i0[t0][O+m+y+1],v=D[126-m]*i0[t0][O+m+y+129],A=e-v,e=e+v,I=D[m+65]*i0[t0][O+m+y+65],v=D[62-m]*i0[t0][O+m+y+193],R=I-v,I=I+v,j[H][K+u.BLKSIZE_s/2+0]=e+I,j[H][K+u.BLKSIZE_s/2+2]=e-I,j[H][K+u.BLKSIZE_s/2+1]=A+R,j[H][K+u.BLKSIZE_s/2+3]=A-R}while(--p>=0);G(j[H],K,u.BLKSIZE_s/2)}},this.fft_long=function(F,j,t0,i0,O){var H=u.BLKSIZE/8-1,K=u.BLKSIZE/2;do{var y,p,e,A,I,R=n0[H]&255;y=x[R]*i0[t0][O+R],I=x[R+512]*i0[t0][O+R+512],p=y-I,y=y+I,e=x[R+256]*i0[t0][O+R+256],I=x[R+768]*i0[t0][O+R+768],A=e-I,e=e+I,K-=4,j[K+0]=y+e,j[K+2]=y-e,j[K+1]=p+A,j[K+3]=p-A,y=x[R+1]*i0[t0][O+R+1],I=x[R+513]*i0[t0][O+R+513],p=y-I,y=y+I,e=x[R+257]*i0[t0][O+R+257],I=x[R+769]*i0[t0][O+R+769],A=e-I,e=e+I,j[K+u.BLKSIZE/2+0]=y+e,j[K+u.BLKSIZE/2+2]=y-e,j[K+u.BLKSIZE/2+1]=p+A,j[K+u.BLKSIZE/2+3]=p-A}while(--H>=0);G(j,K,u.BLKSIZE/2)},this.init_fft=function(F){for(var j=0;j<u.BLKSIZE;j++)x[j]=.42-.5*Math.cos(2*Math.PI*(j+.5)/u.BLKSIZE)+.08*Math.cos(4*Math.PI*(j+.5)/u.BLKSIZE);for(var j=0;j<u.BLKSIZE_s/2;j++)D[j]=.5*(1-Math.cos(2*Math.PI*(j+.5)/u.BLKSIZE_s))}}function G1(){var x=new Ee,D=2.302585092994046,J=2,G=16,n0=2,F=16,j=.34,t0=1/(14752*14752)/(u.BLKSIZE/2),i0=.01,O=.8,H=.6,K=.3,y=3.5,p=4.4,e=25,A=21,I=.2302585093;function R(c){return c}function v(c,S){for(var T=0,L=0;L<u.BLKSIZE/2;++L)T+=c[L]*S.ATH.eql_w[L];return T*=t0,T}function m(c,S,T,L,k,B,X,Y,C,U,q){var z=c.internal_flags;if(C<2)x.fft_long(z,L[k],C,U,q),x.fft_short(z,B[X],C,U,q);else if(C==2){for(var _0=u.BLKSIZE-1;_0>=0;--_0){var x0=L[k+0][_0],g=L[k+1][_0];L[k+0][_0]=(x0+g)*R0.SQRT2*.5,L[k+1][_0]=(x0-g)*R0.SQRT2*.5}for(var A0=2;A0>=0;--A0)for(var _0=u.BLKSIZE_s-1;_0>=0;--_0){var x0=B[X+0][A0][_0],g=B[X+1][A0][_0];B[X+0][A0][_0]=(x0+g)*R0.SQRT2*.5,B[X+1][A0][_0]=(x0-g)*R0.SQRT2*.5}}S[0]=L[k+0][0],S[0]*=S[0];for(var _0=u.BLKSIZE/2-1;_0>=0;--_0){var Q=L[k+0][u.BLKSIZE/2-_0],u0=L[k+0][u.BLKSIZE/2+_0];S[u.BLKSIZE/2-_0]=(Q*Q+u0*u0)*.5}for(var A0=2;A0>=0;--A0){T[A0][0]=B[X+0][A0][0],T[A0][0]*=T[A0][0];for(var _0=u.BLKSIZE_s/2-1;_0>=0;--_0){var Q=B[X+0][A0][u.BLKSIZE_s/2-_0],u0=B[X+0][A0][u.BLKSIZE_s/2+_0];T[A0][u.BLKSIZE_s/2-_0]=(Q*Q+u0*u0)*.5}}{for(var y0=0,_0=11;_0<u.HBLKSIZE;_0++)y0+=S[_0];z.tot_ener[C]=y0}if(c.analysis){for(var _0=0;_0<u.HBLKSIZE;_0++)z.pinfo.energy[Y][C][_0]=z.pinfo.energy_save[C][_0],z.pinfo.energy_save[C][_0]=S[_0];z.pinfo.pe[Y][C]=z.pe[C]}c.athaa_loudapprox==2&&C<2&&(z.loudness_sq[Y][C]=z.loudness_sq_save[C],z.loudness_sq_save[C]=v(S,z))}var b=8,d=23,M=15,r,E,o,s=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function a(){r=Math.pow(10,(b+1)/16),E=Math.pow(10,(d+1)/16),o=Math.pow(10,M/10)}var _=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],i=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],n=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function h(c,S,T,L,k,B){var X;if(S>c)if(S<c*E)X=S/c;else return c+S;else{if(c>=S*E)return c+S;X=c/S}if(c+=S,L+3<=6){if(X>=r)return c;var Y=0|R0.FAST_LOG10_X(X,16);return c*i[Y]}var Y=0|R0.FAST_LOG10_X(X,16);if(B!=0?S=k.ATH.cb_s[T]*k.ATH.adjust:S=k.ATH.cb_l[T]*k.ATH.adjust,c<o*S){if(c>S){var C,U;return C=1,Y<=13&&(C=n[Y]),U=R0.FAST_LOG10_X(c/S,10/15),c*((_[Y]-C)*U+C)}return Y>13?c:c*n[Y]}return c*_[Y]}var f=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function V(c,S,T){var L;if(c<0&&(c=0),S<0&&(S=0),c<=0)return S;if(S<=0)return c;if(S>c?L=S/c:L=c/S,-2<=T&&T<=2){if(L>=r)return c+S;var k=0|R0.FAST_LOG10_X(L,16);return(c+S)*f[k]}return L<E?c+S:(c<S&&(c=S),c)}function w(c,S){var T=c.internal_flags;if(T.channels_out>1){for(var L=0;L<u.SBMAX_l;L++){var k=T.thm[0].l[L],B=T.thm[1].l[L];T.thm[0].l[L]+=B*S,T.thm[1].l[L]+=k*S}for(var L=0;L<u.SBMAX_s;L++)for(var X=0;X<3;X++){var k=T.thm[0].s[L][X],B=T.thm[1].s[L][X];T.thm[0].s[L][X]+=B*S,T.thm[1].s[L][X]+=k*S}}}function N(c){for(var S=0;S<u.SBMAX_l;S++)if(!(c.thm[0].l[S]>1.58*c.thm[1].l[S]||c.thm[1].l[S]>1.58*c.thm[0].l[S])){var T=c.mld_l[S]*c.en[3].l[S],L=Math.max(c.thm[2].l[S],Math.min(c.thm[3].l[S],T));T=c.mld_l[S]*c.en[2].l[S];var k=Math.max(c.thm[3].l[S],Math.min(c.thm[2].l[S],T));c.thm[2].l[S]=L,c.thm[3].l[S]=k}for(var S=0;S<u.SBMAX_s;S++)for(var B=0;B<3;B++)if(!(c.thm[0].s[S][B]>1.58*c.thm[1].s[S][B]||c.thm[1].s[S][B]>1.58*c.thm[0].s[S][B])){var T=c.mld_s[S]*c.en[3].s[S][B],L=Math.max(c.thm[2].s[S][B],Math.min(c.thm[3].s[S][B],T));T=c.mld_s[S]*c.en[2].s[S][B];var k=Math.max(c.thm[3].s[S][B],Math.min(c.thm[2].s[S][B],T));c.thm[2].s[S][B]=L,c.thm[3].s[S][B]=k}}function $(c,S,T){var L=S,k=Math.pow(10,T);S*=2,L*=2;for(var B=0;B<u.SBMAX_l;B++){var X,Y,C,U;if(U=c.ATH.cb_l[c.bm_l[B]]*k,X=Math.min(Math.max(c.thm[0].l[B],U),Math.max(c.thm[1].l[B],U)),Y=Math.max(c.thm[2].l[B],U),C=Math.max(c.thm[3].l[B],U),X*S<Y+C){var q=X*L/(Y+C);Y*=q,C*=q}c.thm[2].l[B]=Math.min(Y,c.thm[2].l[B]),c.thm[3].l[B]=Math.min(C,c.thm[3].l[B])}k*=u.BLKSIZE_s/u.BLKSIZE;for(var B=0;B<u.SBMAX_s;B++)for(var z=0;z<3;z++){var X,Y,C,U;if(U=c.ATH.cb_s[c.bm_s[B]]*k,X=Math.min(Math.max(c.thm[0].s[B][z],U),Math.max(c.thm[1].s[B][z],U)),Y=Math.max(c.thm[2].s[B][z],U),C=Math.max(c.thm[3].s[B][z],U),X*S<Y+C){var q=X*S/(Y+C);Y*=q,C*=q}c.thm[2].s[B][z]=Math.min(c.thm[2].s[B][z],Y),c.thm[3].s[B][z]=Math.min(c.thm[3].s[B][z],C)}}function t(c,S,T,L,k){var B,X,Y=0,C=0;for(B=X=0;B<u.SBMAX_s;++X,++B){for(var U=c.bo_s[B],q=c.npart_s,z=U<q?U:q;X<z;)Y+=S[X],C+=T[X],X++;if(c.en[L].s[B][k]=Y,c.thm[L].s[B][k]=C,X>=q){++B;break}{var _0=c.PSY.bo_s_weight[B],x0=1-_0;Y=_0*S[X],C=_0*T[X],c.en[L].s[B][k]+=Y,c.thm[L].s[B][k]+=C,Y=x0*S[X],C=x0*T[X]}}for(;B<u.SBMAX_s;++B)c.en[L].s[B][k]=0,c.thm[L].s[B][k]=0}function l(c,S,T,L){var k,B,X=0,Y=0;for(k=B=0;k<u.SBMAX_l;++B,++k){for(var C=c.bo_l[k],U=c.npart_l,q=C<U?C:U;B<q;)X+=S[B],Y+=T[B],B++;if(c.en[L].l[k]=X,c.thm[L].l[k]=Y,B>=U){++k;break}{var z=c.PSY.bo_l_weight[k],_0=1-z;X=z*S[B],Y=z*T[B],c.en[L].l[k]+=X,c.thm[L].l[k]+=Y,X=_0*S[B],Y=_0*T[B]}}for(;k<u.SBMAX_l;++k)c.en[L].l[k]=0,c.thm[L].l[k]=0}function P(c,S,T,L,k,B){var X=c.internal_flags,Y,C;for(C=Y=0;C<X.npart_s;++C){for(var U=0,q=0,z=X.numlines_s[C],_0=0;_0<z;++_0,++Y){var x0=S[B][Y];U+=x0,q<x0&&(q=x0)}T[C]=U}for(Y=C=0;C<X.npart_s;C++){var g=X.s3ind_s[C][0],A0=X.s3_ss[Y++]*T[g];for(++g;g<=X.s3ind_s[C][1];)A0+=X.s3_ss[Y]*T[g],++Y,++g;{var Q=n0*X.nb_s1[k][C];L[C]=Math.min(A0,Q)}if(X.blocktype_old[k&1]==u.SHORT_TYPE){var Q=F*X.nb_s2[k][C],u0=L[C];L[C]=Math.min(Q,u0)}X.nb_s2[k][C]=X.nb_s1[k][C],X.nb_s1[k][C]=A0}for(;C<=u.CBANDS;++C)T[C]=0,L[C]=0}function W(c,S,T,L){var k=c.internal_flags;c.short_blocks==Z0.short_block_coupled&&!(S[0]!=0&&S[1]!=0)&&(S[0]=S[1]=0);for(var B=0;B<k.channels_out;B++)L[B]=u.NORM_TYPE,c.short_blocks==Z0.short_block_dispensed&&(S[B]=1),c.short_blocks==Z0.short_block_forced&&(S[B]=0),S[B]!=0?k.blocktype_old[B]==u.SHORT_TYPE&&(L[B]=u.STOP_TYPE):(L[B]=u.SHORT_TYPE,k.blocktype_old[B]==u.NORM_TYPE&&(k.blocktype_old[B]=u.START_TYPE),k.blocktype_old[B]==u.STOP_TYPE&&(k.blocktype_old[B]=u.SHORT_TYPE)),T[B]=k.blocktype_old[B],k.blocktype_old[B]=L[B]}function r0(c,S,T){return T>=1?c:T<=0?S:S>0?Math.pow(c/S,T)*S:0}var o0=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function h0(c,S){for(var T=309.07,L=0;L<u.SBMAX_s-1;L++)for(var k=0;k<3;k++){var B=c.thm.s[L][k];if(B>0){var X=B*S,Y=c.en.s[L][k];Y>X&&(Y>X*1e10?T+=o0[L]*(10*D):T+=o0[L]*R0.FAST_LOG10(Y/X))}}return T}var f0=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function S0(c,S){for(var T=281.0575,L=0;L<u.SBMAX_l-1;L++){var k=c.thm.l[L];if(k>0){var B=k*S,X=c.en.l[L];X>B&&(X>B*1e10?T+=f0[L]*(10*D):T+=f0[L]*R0.FAST_LOG10(X/B))}}return T}function c0(c,S,T,L,k){var B,X;for(B=X=0;B<c.npart_l;++B){var Y=0,C=0,U;for(U=0;U<c.numlines_l[B];++U,++X){var q=S[X];Y+=q,C<q&&(C=q)}T[B]=Y,L[B]=C,k[B]=Y*c.rnumlines_l[B]}}function s0(c,S,T,L){var k=s.length-1,B=0,X=T[B]+T[B+1];if(X>0){var Y=S[B];Y<S[B+1]&&(Y=S[B+1]),X=20*(Y*2-X)/(X*(c.numlines_l[B]+c.numlines_l[B+1]-1));var C=0|X;C>k&&(C=k),L[B]=C}else L[B]=0;for(B=1;B<c.npart_l-1;B++)if(X=T[B-1]+T[B]+T[B+1],X>0){var Y=S[B-1];Y<S[B]&&(Y=S[B]),Y<S[B+1]&&(Y=S[B+1]),X=20*(Y*3-X)/(X*(c.numlines_l[B-1]+c.numlines_l[B]+c.numlines_l[B+1]-1));var C=0|X;C>k&&(C=k),L[B]=C}else L[B]=0;if(X=T[B-1]+T[B],X>0){var Y=S[B-1];Y<S[B]&&(Y=S[B]),X=20*(Y*2-X)/(X*(c.numlines_l[B-1]+c.numlines_l[B]-1));var C=0|X;C>k&&(C=k),L[B]=C}else L[B]=0}var O0=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(c,S,T,L,k,B,X,Y,C,U){var q=c.internal_flags,z=X0([2,u.BLKSIZE]),_0=X0([2,3,u.BLKSIZE_s]),x0=v0(u.CBANDS+1),g=v0(u.CBANDS+1),A0=v0(u.CBANDS+2),Q=E0(2),u0=E0(2),y0,e0,m0,a0,d0,k0,l0,M0,I0=X0([2,576]),F0,r1=E0(u.CBANDS+2),K0=E0(u.CBANDS+2);for(j0.fill(K0,0),y0=q.channels_out,c.mode==p0.JOINT_STEREO&&(y0=4),c.VBR==b0.vbr_off?F0=q.ResvMax==0?0:q.ResvSize/q.ResvMax*.5:c.VBR==b0.vbr_rh||c.VBR==b0.vbr_mtrh||c.VBR==b0.vbr_mt?F0=.6:F0=1,e0=0;e0<q.channels_out;e0++){var Y0=S[e0],g0=T+576-350-A+192;for(a0=0;a0<576;a0++){var t1,i1;for(t1=Y0[g0+a0+10],i1=0,d0=0;d0<(A-1)/2-1;d0+=2)t1+=O0[d0]*(Y0[g0+a0+d0]+Y0[g0+a0+A-d0]),i1+=O0[d0+1]*(Y0[g0+a0+d0+1]+Y0[g0+a0+A-d0-1]);I0[e0][a0]=t1+i1}k[L][e0].en.assign(q.en[e0]),k[L][e0].thm.assign(q.thm[e0]),y0>2&&(B[L][e0].en.assign(q.en[e0+2]),B[L][e0].thm.assign(q.thm[e0+2]))}for(e0=0;e0<y0;e0++){var l1,v1,J0=v0(12),d1=[0,0,0,0],y1=v0(12),K1=1,re,te=v0(u.CBANDS),ie=v0(u.CBANDS),q0=[0,0,0,0],se=v0(u.HBLKSIZE),ne=X0([3,u.HBLKSIZE_s]);for(a0=0;a0<3;a0++)J0[a0]=q.nsPsy.last_en_subshort[e0][a0+6],y1[a0]=J0[a0]/q.nsPsy.last_en_subshort[e0][a0+4],d1[0]+=J0[a0];if(e0==2)for(a0=0;a0<576;a0++){var Z1,P1;Z1=I0[0][a0],P1=I0[1][a0],I0[0][a0]=Z1+P1,I0[1][a0]=Z1-P1}{var _e=I0[e0&1],H1=0;for(a0=0;a0<9;a0++){for(var Le=H1+64,Q0=1;H1<Le;H1++)Q0<Math.abs(_e[H1])&&(Q0=Math.abs(_e[H1]));q.nsPsy.last_en_subshort[e0][a0]=J0[a0+3]=Q0,d1[1+a0/3]+=Q0,Q0>J0[a0+3-2]?Q0=Q0/J0[a0+3-2]:J0[a0+3-2]>Q0*10?Q0=J0[a0+3-2]/(Q0*10):Q0=0,y1[a0+3]=Q0}}if(c.analysis){var Q1=y1[0];for(a0=1;a0<12;a0++)Q1<y1[a0]&&(Q1=y1[a0]);q.pinfo.ers[L][e0]=q.pinfo.ers_save[e0],q.pinfo.ers_save[e0]=Q1}for(re=e0==3?q.nsPsy.attackthre_s:q.nsPsy.attackthre,a0=0;a0<12;a0++)q0[a0/3]==0&&y1[a0]>re&&(q0[a0/3]=a0%3+1);for(a0=1;a0<4;a0++){var U1;d1[a0-1]>d1[a0]?U1=d1[a0-1]/d1[a0]:U1=d1[a0]/d1[a0-1],U1<1.7&&(q0[a0]=0,a0==1&&(q0[0]=0))}for(q0[0]!=0&&q.nsPsy.lastAttacks[e0]!=0&&(q0[0]=0),(q.nsPsy.lastAttacks[e0]==3||q0[0]+q0[1]+q0[2]+q0[3]!=0)&&(K1=0,q0[1]!=0&&q0[0]!=0&&(q0[1]=0),q0[2]!=0&&q0[1]!=0&&(q0[2]=0),q0[3]!=0&&q0[2]!=0&&(q0[3]=0)),e0<2?u0[e0]=K1:K1==0&&(u0[0]=u0[1]=0),C[e0]=q.tot_ener[e0],v1=_0,l1=z,m(c,se,ne,l1,e0&1,v1,e0&1,L,e0,S,T),c0(q,se,x0,te,ie),s0(q,te,ie,r1),M0=0;M0<3;M0++){var W1,e1;for(P(c,ne,g,A0,e0,M0),t(q,g,A0,e0,M0),l0=0;l0<u.SBMAX_s;l0++){if(e1=q.thm[e0].s[l0][M0],e1*=O,q0[M0]>=2||q0[M0+1]==1){var O1=M0!=0?M0-1:2,Q0=r0(q.thm[e0].s[l0][O1],e1,H*F0);e1=Math.min(e1,Q0)}if(q0[M0]==1){var O1=M0!=0?M0-1:2,Q0=r0(q.thm[e0].s[l0][O1],e1,K*F0);e1=Math.min(e1,Q0)}else if(M0!=0&&q0[M0-1]==3||M0==0&&q.nsPsy.lastAttacks[e0]==3){var O1=M0!=2?M0+1:0,Q0=r0(q.thm[e0].s[l0][O1],e1,K*F0);e1=Math.min(e1,Q0)}W1=J0[M0*3+3]+J0[M0*3+4]+J0[M0*3+5],J0[M0*3+5]*6<W1&&(e1*=.5,J0[M0*3+4]*6<W1&&(e1*=.5)),q.thm[e0].s[l0][M0]=e1}}for(q.nsPsy.lastAttacks[e0]=q0[2],k0=0,m0=0;m0<q.npart_l;m0++){for(var E1=q.s3ind[m0][0],j1=x0[E1]*s[r1[E1]],B1=q.s3_ll[k0++]*j1;++E1<=q.s3ind[m0][1];)j1=x0[E1]*s[r1[E1]],B1=h(B1,q.s3_ll[k0++]*j1,E1,E1-m0,q,0);B1*=.158489319246111,q.blocktype_old[e0&1]==u.SHORT_TYPE?A0[m0]=B1:A0[m0]=r0(Math.min(B1,Math.min(J*q.nb_1[e0][m0],G*q.nb_2[e0][m0])),B1,F0),q.nb_2[e0][m0]=q.nb_1[e0][m0],q.nb_1[e0][m0]=B1}for(;m0<=u.CBANDS;++m0)x0[m0]=0,A0[m0]=0;l(q,x0,A0,e0)}if((c.mode==p0.STEREO||c.mode==p0.JOINT_STEREO)&&c.interChRatio>0&&w(c,c.interChRatio),c.mode==p0.JOINT_STEREO){var z1;N(q),z1=c.msfix,Math.abs(z1)>0&&$(q,z1,c.ATHlower*q.ATH.adjust)}for(W(c,u0,U,Q),e0=0;e0<y0;e0++){var N1,p1=0,Y1,q1;e0>1?(N1=Y,p1=-2,Y1=u.NORM_TYPE,(U[0]==u.SHORT_TYPE||U[1]==u.SHORT_TYPE)&&(Y1=u.SHORT_TYPE),q1=B[L][e0-2]):(N1=X,p1=0,Y1=U[e0],q1=k[L][e0]),Y1==u.SHORT_TYPE?N1[p1+e0]=h0(q1,q.masking_lower):N1[p1+e0]=S0(q1,q.masking_lower),c.analysis&&(q.pinfo.pe[L][e0]=N1[p1+e0])}return 0};function V0(c,S,T,L,k,B,X,Y){var C=c.internal_flags;if(L<2)x.fft_long(C,X[Y],L,S,T);else if(L==2)for(var U=u.BLKSIZE-1;U>=0;--U){var q=X[Y+0][U],z=X[Y+1][U];X[Y+0][U]=(q+z)*R0.SQRT2*.5,X[Y+1][U]=(q-z)*R0.SQRT2*.5}B[0]=X[Y+0][0],B[0]*=B[0];for(var U=u.BLKSIZE/2-1;U>=0;--U){var _0=X[Y+0][u.BLKSIZE/2-U],x0=X[Y+0][u.BLKSIZE/2+U];B[u.BLKSIZE/2-U]=(_0*_0+x0*x0)*.5}{for(var g=0,U=11;U<u.HBLKSIZE;U++)g+=B[U];C.tot_ener[L]=g}if(c.analysis){for(var U=0;U<u.HBLKSIZE;U++)C.pinfo.energy[k][L][U]=C.pinfo.energy_save[L][U],C.pinfo.energy_save[L][U]=B[U];C.pinfo.pe[k][L]=C.pe[L]}}function N0(c,S,T,L,k,B,X,Y){var C=c.internal_flags;if(k==0&&L<2&&x.fft_short(C,X[Y],L,S,T),L==2)for(var U=u.BLKSIZE_s-1;U>=0;--U){var q=X[Y+0][k][U],z=X[Y+1][k][U];X[Y+0][k][U]=(q+z)*R0.SQRT2*.5,X[Y+1][k][U]=(q-z)*R0.SQRT2*.5}B[k][0]=X[Y+0][k][0],B[k][0]*=B[k][0];for(var U=u.BLKSIZE_s/2-1;U>=0;--U){var _0=X[Y+0][k][u.BLKSIZE_s/2-U],x0=X[Y+0][k][u.BLKSIZE_s/2+U];B[k][u.BLKSIZE_s/2-U]=(_0*_0+x0*x0)*.5}}function C0(c,S,T,L){var k=c.internal_flags;c.athaa_loudapprox==2&&T<2&&(k.loudness_sq[S][T]=k.loudness_sq_save[T],k.loudness_sq_save[T]=v(L,k))}var D0=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function G0(c,S,T,L,k,B,X,Y,C,U){for(var q=X0([2,576]),z=c.internal_flags,_0=z.channels_out,x0=c.mode==p0.JOINT_STEREO?4:_0,g=0;g<_0;g++){firbuf=S[g];for(var A0=T+576-350-A+192,Q=0;Q<576;Q++){var u0,y0;u0=firbuf[A0+Q+10],y0=0;for(var e0=0;e0<(A-1)/2-1;e0+=2)u0+=D0[e0]*(firbuf[A0+Q+e0]+firbuf[A0+Q+A-e0]),y0+=D0[e0+1]*(firbuf[A0+Q+e0+1]+firbuf[A0+Q+A-e0-1]);q[g][Q]=u0+y0}k[L][g].en.assign(z.en[g]),k[L][g].thm.assign(z.thm[g]),x0>2&&(B[L][g].en.assign(z.en[g+2]),B[L][g].thm.assign(z.thm[g+2]))}for(var g=0;g<x0;g++){var m0=v0(12),a0=v0(12),d0=[0,0,0,0],k0=q[g&1],l0=0,M0=g==3?z.nsPsy.attackthre_s:z.nsPsy.attackthre,I0=1;if(g==2)for(var Q=0,e0=576;e0>0;++Q,--e0){var F0=q[0][Q],r1=q[1][Q];q[0][Q]=F0+r1,q[1][Q]=F0-r1}for(var Q=0;Q<3;Q++)a0[Q]=z.nsPsy.last_en_subshort[g][Q+6],m0[Q]=a0[Q]/z.nsPsy.last_en_subshort[g][Q+4],d0[0]+=a0[Q];for(var Q=0;Q<9;Q++){for(var K0=l0+64,Y0=1;l0<K0;l0++)Y0<Math.abs(k0[l0])&&(Y0=Math.abs(k0[l0]));z.nsPsy.last_en_subshort[g][Q]=a0[Q+3]=Y0,d0[1+Q/3]+=Y0,Y0>a0[Q+3-2]?Y0=Y0/a0[Q+3-2]:a0[Q+3-2]>Y0*10?Y0=a0[Q+3-2]/(Y0*10):Y0=0,m0[Q+3]=Y0}for(var Q=0;Q<3;++Q){var g0=a0[Q*3+3]+a0[Q*3+4]+a0[Q*3+5],t1=1;a0[Q*3+5]*6<g0&&(t1*=.5,a0[Q*3+4]*6<g0&&(t1*=.5)),Y[g][Q]=t1}if(c.analysis){for(var i1=m0[0],Q=1;Q<12;Q++)i1<m0[Q]&&(i1=m0[Q]);z.pinfo.ers[L][g]=z.pinfo.ers_save[g],z.pinfo.ers_save[g]=i1}for(var Q=0;Q<12;Q++)C[g][Q/3]==0&&m0[Q]>M0&&(C[g][Q/3]=Q%3+1);for(var Q=1;Q<4;Q++){var l1=d0[Q-1],v1=d0[Q],J0=Math.max(l1,v1);J0<4e4&&l1<1.7*v1&&v1<1.7*l1&&(Q==1&&C[g][0]<=C[g][Q]&&(C[g][0]=0),C[g][Q]=0)}C[g][0]<=z.nsPsy.lastAttacks[g]&&(C[g][0]=0),(z.nsPsy.lastAttacks[g]==3||C[g][0]+C[g][1]+C[g][2]+C[g][3]!=0)&&(I0=0,C[g][1]!=0&&C[g][0]!=0&&(C[g][1]=0),C[g][2]!=0&&C[g][1]!=0&&(C[g][2]=0),C[g][3]!=0&&C[g][2]!=0&&(C[g][3]=0)),g<2?U[g]=I0:I0==0&&(U[0]=U[1]=0),X[g]=z.tot_ener[g]}}function W0(c,S,T){if(T==0)for(var L=0;L<c.npart_s;L++)c.nb_s2[S][L]=c.nb_s1[S][L],c.nb_s1[S][L]=0}function h1(c,S){for(var T=0;T<c.npart_l;T++)c.nb_2[S][T]=c.nb_1[S][T],c.nb_1[S][T]=0}function a1(c,S,T,L){var k=s.length-1,B=0,X=T[B]+T[B+1];if(X>0){var Y=S[B];Y<S[B+1]&&(Y=S[B+1]),X=20*(Y*2-X)/(X*(c.numlines_s[B]+c.numlines_s[B+1]-1));var C=0|X;C>k&&(C=k),L[B]=C}else L[B]=0;for(B=1;B<c.npart_s-1;B++)if(X=T[B-1]+T[B]+T[B+1],X>0){var Y=S[B-1];Y<S[B]&&(Y=S[B]),Y<S[B+1]&&(Y=S[B+1]),X=20*(Y*3-X)/(X*(c.numlines_s[B-1]+c.numlines_s[B]+c.numlines_s[B+1]-1));var C=0|X;C>k&&(C=k),L[B]=C}else L[B]=0;if(X=T[B-1]+T[B],X>0){var Y=S[B-1];Y<S[B]&&(Y=S[B]),X=20*(Y*2-X)/(X*(c.numlines_s[B-1]+c.numlines_s[B]-1));var C=0|X;C>k&&(C=k),L[B]=C}else L[B]=0}function $0(c,S,T,L,k,B){var X=c.internal_flags,Y=new float[u.CBANDS],C=v0(u.CBANDS),U,q,z,_0=new int[u.CBANDS];for(z=q=0;z<X.npart_s;++z){var x0=0,g=0,A0=X.numlines_s[z];for(U=0;U<A0;++U,++q){var Q=S[B][q];x0+=Q,g<Q&&(g=Q)}T[z]=x0,Y[z]=g,C[z]=x0/A0}for(;z<u.CBANDS;++z)Y[z]=0,C[z]=0;for(a1(X,Y,C,_0),q=z=0;z<X.npart_s;z++){var u0=X.s3ind_s[z][0],y0=X.s3ind_s[z][1],e0,m0,a0,d0,k0;for(e0=_0[u0],m0=1,d0=X.s3_ss[q]*T[u0]*s[_0[u0]],++q,++u0;u0<=y0;)e0+=_0[u0],m0+=1,a0=X.s3_ss[q]*T[u0]*s[_0[u0]],d0=V(d0,a0,u0-z),++q,++u0;e0=(1+2*e0)/(2*m0),k0=s[e0]*.5,d0*=k0,L[z]=d0,X.nb_s2[k][z]=X.nb_s1[k][z],X.nb_s1[k][z]=d0,a0=Y[z],a0*=X.minval_s[z],a0*=k0,L[z]>a0&&(L[z]=a0),X.masking_lower>1&&(L[z]*=X.masking_lower),L[z]>T[z]&&(L[z]=T[z]),X.masking_lower<1&&(L[z]*=X.masking_lower)}for(;z<u.CBANDS;++z)T[z]=0,L[z]=0}function _1(c,S,T,L,k){var B=v0(u.CBANDS),X=v0(u.CBANDS),Y=E0(u.CBANDS+2),C;c0(c,S,T,B,X),s0(c,B,X,Y);var U=0;for(C=0;C<c.npart_l;C++){var q,z,_0,x0,g=c.s3ind[C][0],A0=c.s3ind[C][1],Q=0,u0=0;for(Q=Y[g],u0+=1,z=c.s3_ll[U]*T[g]*s[Y[g]],++U,++g;g<=A0;)Q+=Y[g],u0+=1,q=c.s3_ll[U]*T[g]*s[Y[g]],x0=V(z,q,g-C),z=x0,++U,++g;if(Q=(1+2*Q)/(2*u0),_0=s[Q]*.5,z*=_0,c.blocktype_old[k&1]==u.SHORT_TYPE){var y0=J*c.nb_1[k][C];y0>0?L[C]=Math.min(z,y0):L[C]=Math.min(z,T[C]*K)}else{var e0=G*c.nb_2[k][C],m0=J*c.nb_1[k][C],y0;e0<=0&&(e0=z),m0<=0&&(m0=z),c.blocktype_old[k&1]==u.NORM_TYPE?y0=Math.min(m0,e0):y0=m0,L[C]=Math.min(z,y0)}c.nb_2[k][C]=c.nb_1[k][C],c.nb_1[k][C]=z,q=B[C],q*=c.minval_l[C],q*=_0,L[C]>q&&(L[C]=q),c.masking_lower>1&&(L[C]*=c.masking_lower),L[C]>T[C]&&(L[C]=T[C]),c.masking_lower<1&&(L[C]*=c.masking_lower)}for(;C<u.CBANDS;++C)T[C]=0,L[C]=0}function R1(c,S){var T=c.internal_flags;c.short_blocks==Z0.short_block_coupled&&!(S[0]!=0&&S[1]!=0)&&(S[0]=S[1]=0);for(var L=0;L<T.channels_out;L++)c.short_blocks==Z0.short_block_dispensed&&(S[L]=1),c.short_blocks==Z0.short_block_forced&&(S[L]=0)}function M1(c,S,T){for(var L=c.internal_flags,k=0;k<L.channels_out;k++){var B=u.NORM_TYPE;S[k]!=0?L.blocktype_old[k]==u.SHORT_TYPE&&(B=u.STOP_TYPE):(B=u.SHORT_TYPE,L.blocktype_old[k]==u.NORM_TYPE&&(L.blocktype_old[k]=u.START_TYPE),L.blocktype_old[k]==u.STOP_TYPE&&(L.blocktype_old[k]=u.SHORT_TYPE)),T[k]=L.blocktype_old[k],L.blocktype_old[k]=B}}function f1(c,S,T,L,k,B,X){for(var Y=B*2,C=B>0?Math.pow(10,k):1,U,q,z=0;z<X;++z){var _0=c[2][z],x0=c[3][z],g=S[0][z],A0=S[1][z],Q=S[2][z],u0=S[3][z];if(g<=1.58*A0&&A0<=1.58*g){var y0=T[z]*x0,e0=T[z]*_0;q=Math.max(Q,Math.min(u0,y0)),U=Math.max(u0,Math.min(Q,e0))}else q=Q,U=u0;if(B>0){var m0,a0,d0=L[z]*C;if(m0=Math.min(Math.max(g,d0),Math.max(A0,d0)),Q=Math.max(q,d0),u0=Math.max(U,d0),a0=Q+u0,a0>0&&m0*Y<a0){var k0=m0*Y/a0;Q*=k0,u0*=k0}q=Math.min(Q,q),U=Math.min(u0,U)}q>_0&&(q=_0),U>x0&&(U=x0),S[2][z]=q,S[3][z]=U}}this.L3psycho_anal_vbr=function(c,S,T,L,k,B,X,Y,C,U){var q=c.internal_flags,z,_0,x0=v0(u.HBLKSIZE),g=X0([3,u.HBLKSIZE_s]),A0=X0([2,u.BLKSIZE]),Q=X0([2,3,u.BLKSIZE_s]),u0=X0([4,u.CBANDS]),y0=X0([4,u.CBANDS]),e0=X0([4,3]),m0=.6,a0=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],d0=E0(2),k0=c.mode==p0.JOINT_STEREO?4:q.channels_out;G0(c,S,T,L,k,B,C,e0,a0,d0),R1(c,d0);{for(var l0=0;l0<k0;l0++){var M0=l0&1;z=A0,V0(c,S,T,l0,L,x0,z,M0),C0(c,L,l0,x0),d0[M0]!=0?_1(q,x0,u0[l0],y0[l0],l0):h1(q,l0)}d0[0]+d0[1]==2&&c.mode==p0.JOINT_STEREO&&f1(u0,y0,q.mld_cb_l,q.ATH.cb_l,c.ATHlower*q.ATH.adjust,c.msfix,q.npart_l);for(var l0=0;l0<k0;l0++){var M0=l0&1;d0[M0]!=0&&l(q,u0[l0],y0[l0],l0)}}{for(var I0=0;I0<3;I0++){for(var l0=0;l0<k0;++l0){var M0=l0&1;d0[M0]!=0?W0(q,l0,I0):(_0=Q,N0(c,S,T,l0,I0,g,_0,M0),$0(c,g,u0[l0],y0[l0],l0,I0))}d0[0]+d0[1]==0&&c.mode==p0.JOINT_STEREO&&f1(u0,y0,q.mld_cb_s,q.ATH.cb_s,c.ATHlower*q.ATH.adjust,c.msfix,q.npart_s);for(var l0=0;l0<k0;++l0){var M0=l0&1;d0[M0]==0&&t(q,u0[l0],y0[l0],l0,I0)}}for(var l0=0;l0<k0;l0++){var M0=l0&1;if(d0[M0]==0)for(var F0=0;F0<u.SBMAX_s;F0++){for(var r1=v0(3),I0=0;I0<3;I0++){var K0=q.thm[l0].s[F0][I0];if(K0*=O,a0[l0][I0]>=2||a0[l0][I0+1]==1){var Y0=I0!=0?I0-1:2,g0=r0(q.thm[l0].s[F0][Y0],K0,H*m0);K0=Math.min(K0,g0)}else if(a0[l0][I0]==1){var Y0=I0!=0?I0-1:2,g0=r0(q.thm[l0].s[F0][Y0],K0,K*m0);K0=Math.min(K0,g0)}else if(I0!=0&&a0[l0][I0-1]==3||I0==0&&q.nsPsy.lastAttacks[l0]==3){var Y0=I0!=2?I0+1:0,g0=r0(q.thm[l0].s[F0][Y0],K0,K*m0);K0=Math.min(K0,g0)}K0*=e0[l0][I0],r1[I0]=K0}for(var I0=0;I0<3;I0++)q.thm[l0].s[F0][I0]=r1[I0]}}}for(var l0=0;l0<k0;l0++)q.nsPsy.lastAttacks[l0]=a0[l0][2];M1(c,d0,U);for(var l0=0;l0<k0;l0++){var t1,i1,l1,v1;l0>1?(t1=Y,i1=-2,l1=u.NORM_TYPE,(U[0]==u.SHORT_TYPE||U[1]==u.SHORT_TYPE)&&(l1=u.SHORT_TYPE),v1=B[L][l0-2]):(t1=X,i1=0,l1=U[l0],v1=k[L][l0]),l1==u.SHORT_TYPE?t1[i1+l0]=h0(v1,q.masking_lower):t1[i1+l0]=S0(v1,q.masking_lower),c.analysis&&(q.pinfo.pe[L][l0]=t1[i1+l0])}return 0};function z0(c,S){var T=c,L;return T>=0?L=-T*27:L=T*S,L<=-72?0:Math.exp(L*I)}function S1(c){var S=0,T=0;{var L=0,k,B;for(L=0;z0(L,c)>1e-20;L-=1);for(k=L,B=0;Math.abs(B-k)>1e-12;)L=(B+k)/2,z0(L,c)>0?B=L:k=L;S=k}{var L=0,k,B;for(L=0;z0(L,c)>1e-20;L+=1);for(k=0,B=L;Math.abs(B-k)>1e-12;)L=(B+k)/2,z0(L,c)>0?k=L:B=L;T=B}{var X=0,Y=1e3,C;for(C=0;C<=Y;++C){var L=S+C*(T-S)/Y,U=z0(L,c);X+=U}{var q=(Y+1)/(X*(T-S));return q}}}function L1(c){var S,T,L,k;return S=c,S>=0?S*=3:S*=1.5,S>=.5&&S<=2.5?(k=S-.5,T=8*(k*k-2*k)):T=0,S+=.474,L=15.811389+7.5*S-17.5*Math.sqrt(1+S*S),L<=-60?0:(S=Math.exp((T+L)*I),S/=.6609193,S)}function A1(c){return c<0&&(c=0),c=c*.001,13*Math.atan(.76*c)+3.5*Math.atan(c*c/(7.5*7.5))}function g1(c,S,T,L,k,B,X,Y,C,U,q,z){var _0=v0(u.CBANDS+1),x0=Y/(z>15?2*576:2*192),g=E0(u.HBLKSIZE),A0;Y/=C;var Q=0,u0=0;for(A0=0;A0<u.CBANDS;A0++){var y0,e0;for(y0=A1(Y*Q),_0[A0]=Y*Q,e0=Q;A1(Y*e0)-y0<j&&e0<=C/2;e0++);for(c[A0]=e0-Q,u0=A0+1;Q<e0;)g[Q++]=A0;if(Q>C/2){Q=C/2,++A0;break}}_0[A0]=Y*Q;for(var m0=0;m0<z;m0++){var a0,d0,k0,l0,M0;k0=U[m0],l0=U[m0+1],a0=0|Math.floor(.5+q*(k0-.5)),a0<0&&(a0=0),d0=0|Math.floor(.5+q*(l0-.5)),d0>C/2&&(d0=C/2),T[m0]=(g[a0]+g[d0])/2,S[m0]=g[d0];var I0=x0*l0;X[m0]=(I0-_0[S[m0]])/(_0[S[m0]+1]-_0[S[m0]]),X[m0]<0?X[m0]=0:X[m0]>1&&(X[m0]=1),M0=A1(Y*U[m0]*q),M0=Math.min(M0,15.5)/15.5,B[m0]=Math.pow(10,1.25*(1-Math.cos(Math.PI*M0))-2.5)}Q=0;for(var F0=0;F0<u0;F0++){var r1=c[F0],y0,K0;y0=A1(Y*Q),K0=A1(Y*(Q+r1-1)),L[F0]=.5*(y0+K0),y0=A1(Y*(Q-.5)),K0=A1(Y*(Q+r1-.5)),k[F0]=K0-y0,Q+=r1}return u0}function ee(c,S,T,L,k,B){var X=X0([u.CBANDS,u.CBANDS]),Y,C=0;if(B)for(var U=0;U<S;U++)for(Y=0;Y<S;Y++){var q=L1(T[U]-T[Y])*L[Y];X[U][Y]=q*k[U]}else for(Y=0;Y<S;Y++)for(var z=15+Math.min(21/T[Y],12),_0=S1(z),U=0;U<S;U++){var q=_0*z0(T[U]-T[Y],z)*L[Y];X[U][Y]=q*k[U]}for(var U=0;U<S;U++){for(Y=0;Y<S&&!(X[U][Y]>0);Y++);for(c[U][0]=Y,Y=S-1;Y>0&&!(X[U][Y]>0);Y--);c[U][1]=Y,C+=c[U][1]-c[U][0]+1}for(var x0=v0(C),g=0,U=0;U<S;U++)for(Y=c[U][0];Y<=c[U][1];Y++)x0[g++]=X[U][Y];return x0}function ae(c){var S=A1(c);return S=Math.min(S,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*S))-2.5)}this.psymodel_init=function(c){var S=c.internal_flags,T,L=!0,k=13,B=24,X=0,Y=0,C=-8.25,U=-4.5,q=v0(u.CBANDS),z=v0(u.CBANDS),_0=v0(u.CBANDS),x0=c.out_samplerate;switch(c.experimentalZ){default:case 0:L=!0;break;case 1:L=!(c.VBR==b0.vbr_mtrh||c.VBR==b0.vbr_mt);break;case 2:L=!1;break;case 3:k=8,X=-1.75,Y=-.0125,C=-8.25,U=-2.25;break}for(S.ms_ener_ratio_old=.25,S.blocktype_old[0]=S.blocktype_old[1]=u.NORM_TYPE,T=0;T<4;++T){for(var Q=0;Q<u.CBANDS;++Q)S.nb_1[T][Q]=1e20,S.nb_2[T][Q]=1e20,S.nb_s1[T][Q]=S.nb_s2[T][Q]=1;for(var g=0;g<u.SBMAX_l;g++)S.en[T].l[g]=1e20,S.thm[T].l[g]=1e20;for(var Q=0;Q<3;++Q){for(var g=0;g<u.SBMAX_s;g++)S.en[T].s[g][Q]=1e20,S.thm[T].s[g][Q]=1e20;S.nsPsy.lastAttacks[T]=0}for(var Q=0;Q<9;Q++)S.nsPsy.last_en_subshort[T][Q]=10}for(S.loudness_sq_save[0]=S.loudness_sq_save[1]=0,S.npart_l=g1(S.numlines_l,S.bo_l,S.bm_l,q,z,S.mld_l,S.PSY.bo_l_weight,x0,u.BLKSIZE,S.scalefac_band.l,u.BLKSIZE/(2*576),u.SBMAX_l),T=0;T<S.npart_l;T++){var A0=X;q[T]>=k&&(A0=Y*(q[T]-k)/(B-k)+X*(B-q[T])/(B-k)),_0[T]=Math.pow(10,A0/10),S.numlines_l[T]>0?S.rnumlines_l[T]=1/S.numlines_l[T]:S.rnumlines_l[T]=0}S.s3_ll=ee(S.s3ind,S.npart_l,q,z,_0,L);var Q=0;for(T=0;T<S.npart_l;T++){var u0;u0=m1.MAX_VALUE;for(var y0=0;y0<S.numlines_l[T];y0++,Q++){var e0=x0*Q/(1e3*u.BLKSIZE),m0;m0=this.ATHformula(e0*1e3,c)-20,m0=Math.pow(10,.1*m0),m0*=S.numlines_l[T],u0>m0&&(u0=m0)}S.ATH.cb_l[T]=u0,u0=-20+q[T]*20/10,u0>6&&(u0=100),u0<-15&&(u0=-15),u0-=8,S.minval_l[T]=Math.pow(10,u0/10)*S.numlines_l[T]}for(S.npart_s=g1(S.numlines_s,S.bo_s,S.bm_s,q,z,S.mld_s,S.PSY.bo_s_weight,x0,u.BLKSIZE_s,S.scalefac_band.s,u.BLKSIZE_s/(2*192),u.SBMAX_s),Q=0,T=0;T<S.npart_s;T++){var u0,A0=C;q[T]>=k&&(A0=U*(q[T]-k)/(B-k)+C*(B-q[T])/(B-k)),_0[T]=Math.pow(10,A0/10),u0=m1.MAX_VALUE;for(var y0=0;y0<S.numlines_s[T];y0++,Q++){var e0=x0*Q/(1e3*u.BLKSIZE_s),m0;m0=this.ATHformula(e0*1e3,c)-20,m0=Math.pow(10,.1*m0),m0*=S.numlines_s[T],u0>m0&&(u0=m0)}S.ATH.cb_s[T]=u0,u0=-7+q[T]*7/12,q[T]>12&&(u0*=1+Math.log(1+u0)*3.1),q[T]<12&&(u0*=1+Math.log(1-u0)*2.3),u0<-15&&(u0=-15),u0-=8,S.minval_s[T]=Math.pow(10,u0/10)*S.numlines_s[T]}S.s3_ss=ee(S.s3ind_s,S.npart_s,q,z,_0,L),a(),x.init_fft(S),S.decay=Math.exp(-1*D/(i0*x0/192));{var a0;a0=y,(c.exp_nspsytune&2)!=0&&(a0=1),Math.abs(c.msfix)>0&&(a0=c.msfix),c.msfix=a0;for(var d0=0;d0<S.npart_l;d0++)S.s3ind[d0][1]>S.npart_l-1&&(S.s3ind[d0][1]=S.npart_l-1)}var k0=576*S.mode_gr/x0;if(S.ATH.decay=Math.pow(10,-12/10*k0),S.ATH.adjust=.01,S.ATH.adjustLimit=1,c.ATHtype!=-1){var e0,l0=c.out_samplerate/u.BLKSIZE,M0=0;for(e0=0,T=0;T<u.BLKSIZE/2;++T)e0+=l0,S.ATH.eql_w[T]=1/Math.pow(10,this.ATHformula(e0,c)/10),M0+=S.ATH.eql_w[T];for(M0=1/M0,T=u.BLKSIZE/2;--T>=0;)S.ATH.eql_w[T]*=M0}{for(var d0=Q=0;d0<S.npart_s;++d0)for(T=0;T<S.numlines_s[d0];++T)++Q;for(var d0=Q=0;d0<S.npart_l;++d0)for(T=0;T<S.numlines_l[d0];++T)++Q}for(Q=0,T=0;T<S.npart_l;T++){var e0=x0*(Q+S.numlines_l[T]/2)/(1*u.BLKSIZE);S.mld_cb_l[T]=ae(e0),Q+=S.numlines_l[T]}for(;T<u.CBANDS;++T)S.mld_cb_l[T]=1;for(Q=0,T=0;T<S.npart_s;T++){var e0=x0*(Q+S.numlines_s[T]/2)/(1*u.BLKSIZE_s);S.mld_cb_s[T]=ae(e0),Q+=S.numlines_s[T]}for(;T<u.CBANDS;++T)S.mld_cb_s[T]=1;return 0};function T1(c,S){c<-.3&&(c=3410),c/=1e3,c=Math.max(.1,c);var T=3.64*Math.pow(c,-.8)-6.8*Math.exp(-.6*Math.pow(c-3.4,2))+6*Math.exp(-.15*Math.pow(c-8.7,2))+(.6+.04*S)*.001*Math.pow(c,4);return T}this.ATHformula=function(c,S){var T;switch(S.ATHtype){case 0:T=T1(c,9);break;case 1:T=T1(c,-1);break;case 2:T=T1(c,0);break;case 3:T=T1(c,1)+6;break;case 4:T=T1(c,S.ATHcurve);break;default:T=T1(c,0);break}return T}}function T0(){var x=this,D=128*1024;T0.V9=410,T0.V8=420,T0.V7=430,T0.V6=440,T0.V5=450,T0.V4=460,T0.V3=470,T0.V2=480,T0.V1=490,T0.V0=500,T0.R3MIX=1e3,T0.STANDARD=1001,T0.EXTREME=1002,T0.INSANE=1003,T0.STANDARD_FAST=1004,T0.EXTREME_FAST=1005,T0.MEDIUM=1006,T0.MEDIUM_FAST=1007;var J=16384+D;T0.LAME_MAXMP3BUFFER=J;var G,n0,F,j,t0,i0=new G1,O,H,K,y;this.enc=new u,this.setModules=function(t,l,P,W,r0,o0,h0,f0,S0){G=t,n0=l,F=P,j=W,t0=r0,O=o0,H=h0,K=f0,y=S0,this.enc.setModules(n0,i0,j,O)};function p(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=v0(u.SBMAX_l),this.bo_s_weight=v0(u.SBMAX_s)}function e(){this.lowerlimit=0}function A(t,l){this.lowpass=l}var I=4294479419;function R(t){var l;return t.class_id=I,l=t.internal_flags=new H0,t.mode=p0.NOT_SET,t.original=1,t.in_samplerate=44100,t.num_channels=2,t.num_samples=-1,t.bWriteVbrTag=!0,t.quality=-1,t.short_blocks=null,l.subblock_gain=-1,t.lowpassfreq=0,t.highpassfreq=0,t.lowpasswidth=-1,t.highpasswidth=-1,t.VBR=b0.vbr_off,t.VBR_q=4,t.ATHcurve=-1,t.VBR_mean_bitrate_kbps=128,t.VBR_min_bitrate_kbps=0,t.VBR_max_bitrate_kbps=0,t.VBR_hard_min=0,l.VBR_min_bitrate=1,l.VBR_max_bitrate=13,t.quant_comp=-1,t.quant_comp_short=-1,t.msfix=-1,l.resample_ratio=1,l.OldValue[0]=180,l.OldValue[1]=180,l.CurrentStep[0]=4,l.CurrentStep[1]=4,l.masking_lower=1,l.nsPsy.attackthre=-1,l.nsPsy.attackthre_s=-1,t.scale=-1,t.athaa_type=-1,t.ATHtype=-1,t.athaa_loudapprox=-1,t.athaa_sensitivity=0,t.useTemporal=null,t.interChRatio=-1,l.mf_samples_to_encode=u.ENCDELAY+u.POSTDELAY,t.encoder_padding=0,l.mf_size=u.ENCDELAY-u.MDCTDELAY,t.findReplayGain=!1,t.decode_on_the_fly=!1,l.decode_on_the_fly=!1,l.findReplayGain=!1,l.findPeakSample=!1,l.RadioGain=0,l.AudiophileGain=0,l.noclipGainChange=0,l.noclipScale=-1,t.preset=0,t.write_id3tag_automatic=!0,0}this.lame_init=function(){var t=new fe,l=R(t);return l!=0?null:(t.lame_allocated_gfp=1,t)};function v(t){return t>1?0:t<=0?1:Math.cos(Math.PI/2*t)}this.nearestBitrateFullIndex=function(t){var l=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],P=0,W=0,r0=0,o0=0;o0=l[16],r0=16,W=l[16],P=16;for(var h0=0;h0<16;h0++)if(Math.max(t,l[h0+1])!=t){o0=l[h0+1],r0=h0+1,W=l[h0],P=h0;break}return o0-t>t-W?P:r0};function m(t,l){var P=44100;return l>=48e3?P=48e3:l>=44100?P=44100:l>=32e3?P=32e3:l>=24e3?P=24e3:l>=22050?P=22050:l>=16e3?P=16e3:l>=12e3?P=12e3:l>=11025?P=11025:l>=8e3&&(P=8e3),t==-1?P:(t<=15960&&(P=44100),t<=15250&&(P=32e3),t<=11220&&(P=24e3),t<=9970&&(P=22050),t<=7230&&(P=16e3),t<=5420&&(P=12e3),t<=4510&&(P=11025),t<=3970&&(P=8e3),l<P?l>44100?48e3:l>32e3?44100:l>24e3?32e3:l>22050?24e3:l>16e3?22050:l>12e3?16e3:l>11025?12e3:l>8e3?11025:8e3:P)}function b(t,l){switch(t){case 44100:return l.version=1,0;case 48e3:return l.version=1,1;case 32e3:return l.version=1,2;case 22050:return l.version=0,0;case 24e3:return l.version=0,1;case 16e3:return l.version=0,2;case 11025:return l.version=0,0;case 12e3:return l.version=0,1;case 8e3:return l.version=0,2;default:return l.version=0,-1}}function d(t,l,P){P<16e3&&(l=2);for(var W=Z.bitrate_table[l][1],r0=2;r0<=14;r0++)Z.bitrate_table[l][r0]>0&&Math.abs(Z.bitrate_table[l][r0]-t)<Math.abs(W-t)&&(W=Z.bitrate_table[l][r0]);return W}function M(t,l,P){P<16e3&&(l=2);for(var W=0;W<=14;W++)if(Z.bitrate_table[l][W]>0&&Z.bitrate_table[l][W]==t)return W;return-1}function r(t,l){var P=[new A(8,2e3),new A(16,3700),new A(24,3900),new A(32,5500),new A(40,7e3),new A(48,7500),new A(56,1e4),new A(64,11e3),new A(80,13500),new A(96,15100),new A(112,15600),new A(128,17e3),new A(160,17500),new A(192,18600),new A(224,19400),new A(256,19700),new A(320,20500)],W=x.nearestBitrateFullIndex(l);t.lowerlimit=P[W].lowpass}function E(t){var l=t.internal_flags,P=32,W=-1;if(l.lowpass1>0){for(var r0=999,o0=0;o0<=31;o0++){var h0=o0/31;h0>=l.lowpass2&&(P=Math.min(P,o0)),l.lowpass1<h0&&h0<l.lowpass2&&(r0=Math.min(r0,o0))}r0==999?l.lowpass1=(P-.75)/31:l.lowpass1=(r0-.75)/31,l.lowpass2=P/31}if(l.highpass2>0&&l.highpass2<.9*(.75/31)&&(l.highpass1=0,l.highpass2=0,B0.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),l.highpass2>0){for(var f0=-1,o0=0;o0<=31;o0++){var h0=o0/31;h0<=l.highpass1&&(W=Math.max(W,o0)),l.highpass1<h0&&h0<l.highpass2&&(f0=Math.max(f0,o0))}l.highpass1=W/31,f0==-1?l.highpass2=(W+.75)/31:l.highpass2=(f0+.75)/31}for(var o0=0;o0<32;o0++){var S0,c0,h0=o0/31;l.highpass2>l.highpass1?S0=v((l.highpass2-h0)/(l.highpass2-l.highpass1+1e-20)):S0=1,l.lowpass2>l.lowpass1?c0=v((h0-l.lowpass1)/(l.lowpass2-l.lowpass1+1e-20)):c0=1,l.amp_filter[o0]=S0*c0}}function o(t){var l=t.internal_flags;switch(t.quality){default:case 9:l.psymodel=0,l.noise_shaping=0,l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.use_best_huffman=0,l.full_outer_loop=0;break;case 8:t.quality=7;case 7:l.psymodel=1,l.noise_shaping=0,l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.use_best_huffman=0,l.full_outer_loop=0;break;case 6:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=0,l.full_outer_loop=0;break;case 5:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=0,l.full_outer_loop=0;break;case 4:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break;case 3:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.noise_shaping_amp=1,l.noise_shaping_stop=1,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break;case 2:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.substep_shaping==0&&(l.substep_shaping=2),l.noise_shaping_amp=1,l.noise_shaping_stop=1,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break;case 1:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.substep_shaping==0&&(l.substep_shaping=2),l.noise_shaping_amp=2,l.noise_shaping_stop=1,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break;case 0:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.substep_shaping==0&&(l.substep_shaping=2),l.noise_shaping_amp=2,l.noise_shaping_stop=1,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break}}function s(t){var l=t.internal_flags;t.frameNum=0,t.write_id3tag_automatic&&K.id3tag_write_v2(t),l.bitrate_stereoMode_Hist=b1([16,5]),l.bitrate_blockType_Hist=b1([16,6]),l.PeakSample=0,t.bWriteVbrTag&&O.InitVbrTag(t)}this.lame_init_params=function(t){var l=t.internal_flags;if(l.Class_ID=0,l.ATH==null&&(l.ATH=new ce),l.PSY==null&&(l.PSY=new p),l.rgdata==null&&(l.rgdata=new be),l.channels_in=t.num_channels,l.channels_in==1&&(t.mode=p0.MONO),l.channels_out=t.mode==p0.MONO?1:2,l.mode_ext=u.MPG_MD_MS_LR,t.mode==p0.MONO&&(t.force_ms=!1),t.VBR==b0.vbr_off&&t.VBR_mean_bitrate_kbps!=128&&t.brate==0&&(t.brate=t.VBR_mean_bitrate_kbps),t.VBR==b0.vbr_off||t.VBR==b0.vbr_mtrh||t.VBR==b0.vbr_mt||(t.free_format=!1),t.VBR==b0.vbr_off&&t.brate==0&&P0.EQ(t.compression_ratio,0)&&(t.compression_ratio=11.025),t.VBR==b0.vbr_off&&t.compression_ratio>0&&(t.out_samplerate==0&&(t.out_samplerate=map2MP3Frequency(int(.97*t.in_samplerate))),t.brate=0|t.out_samplerate*16*l.channels_out/(1e3*t.compression_ratio),l.samplerate_index=b(t.out_samplerate,t),t.free_format||(t.brate=d(t.brate,t.version,t.out_samplerate))),t.out_samplerate!=0&&(t.out_samplerate<16e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,64)):t.out_samplerate<32e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,160)):(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,32),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320))),t.lowpassfreq==0){var P=16e3;switch(t.VBR){case b0.vbr_off:{var W=new e;r(W,t.brate),P=W.lowerlimit;break}case b0.vbr_abr:{var W=new e;r(W,t.VBR_mean_bitrate_kbps),P=W.lowerlimit;break}case b0.vbr_rh:{var r0=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var o0=r0[t.VBR_q],h0=r0[t.VBR_q+1],f0=t.VBR_q_frac;P=linear_int(o0,h0,f0)}else P=19500;break}default:{var r0=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var o0=r0[t.VBR_q],h0=r0[t.VBR_q+1],f0=t.VBR_q_frac;P=linear_int(o0,h0,f0)}else P=19500}}t.mode==p0.MONO&&(t.VBR==b0.vbr_off||t.VBR==b0.vbr_abr)&&(P*=1.5),t.lowpassfreq=P|0}if(t.out_samplerate==0&&(2*t.lowpassfreq>t.in_samplerate&&(t.lowpassfreq=t.in_samplerate/2),t.out_samplerate=m(t.lowpassfreq|0,t.in_samplerate)),t.lowpassfreq=Math.min(20500,t.lowpassfreq),t.lowpassfreq=Math.min(t.out_samplerate/2,t.lowpassfreq),t.VBR==b0.vbr_off&&(t.compression_ratio=t.out_samplerate*16*l.channels_out/(1e3*t.brate)),t.VBR==b0.vbr_abr&&(t.compression_ratio=t.out_samplerate*16*l.channels_out/(1e3*t.VBR_mean_bitrate_kbps)),t.bWriteVbrTag||(t.findReplayGain=!1,t.decode_on_the_fly=!1,l.findPeakSample=!1),l.findReplayGain=t.findReplayGain,l.decode_on_the_fly=t.decode_on_the_fly,l.decode_on_the_fly&&(l.findPeakSample=!0),l.findReplayGain&&G.InitGainAnalysis(l.rgdata,t.out_samplerate)==w0.INIT_GAIN_ANALYSIS_ERROR)return t.internal_flags=null,-6;switch(l.decode_on_the_fly&&!t.decode_only&&(l.hip!=null&&y.hip_decode_exit(l.hip),l.hip=y.hip_decode_init()),l.mode_gr=t.out_samplerate<=24e3?1:2,t.framesize=576*l.mode_gr,t.encoder_delay=u.ENCDELAY,l.resample_ratio=t.in_samplerate/t.out_samplerate,t.VBR){case b0.vbr_mt:case b0.vbr_rh:case b0.vbr_mtrh:{var S0=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];t.compression_ratio=S0[t.VBR_q]}break;case b0.vbr_abr:t.compression_ratio=t.out_samplerate*16*l.channels_out/(1e3*t.VBR_mean_bitrate_kbps);break;default:t.compression_ratio=t.out_samplerate*16*l.channels_out/(1e3*t.brate);break}if(t.mode==p0.NOT_SET&&(t.mode=p0.JOINT_STEREO),t.highpassfreq>0?(l.highpass1=2*t.highpassfreq,t.highpasswidth>=0?l.highpass2=2*(t.highpassfreq+t.highpasswidth):l.highpass2=1*2*t.highpassfreq,l.highpass1/=t.out_samplerate,l.highpass2/=t.out_samplerate):(l.highpass1=0,l.highpass2=0),t.lowpassfreq>0?(l.lowpass2=2*t.lowpassfreq,t.lowpasswidth>=0?(l.lowpass1=2*(t.lowpassfreq-t.lowpasswidth),l.lowpass1<0&&(l.lowpass1=0)):l.lowpass1=1*2*t.lowpassfreq,l.lowpass1/=t.out_samplerate,l.lowpass2/=t.out_samplerate):(l.lowpass1=0,l.lowpass2=0),E(t),l.samplerate_index=b(t.out_samplerate,t),l.samplerate_index<0)return t.internal_flags=null,-1;if(t.VBR==b0.vbr_off){if(t.free_format)l.bitrate_index=0;else if(t.brate=d(t.brate,t.version,t.out_samplerate),l.bitrate_index=M(t.brate,t.version,t.out_samplerate),l.bitrate_index<=0)return t.internal_flags=null,-1}else l.bitrate_index=1;t.analysis&&(t.bWriteVbrTag=!1),l.pinfo!=null&&(t.bWriteVbrTag=!1),n0.init_bit_stream_w(l);for(var c0=l.samplerate_index+3*t.version+6*(t.out_samplerate<16e3?1:0),s0=0;s0<u.SBMAX_l+1;s0++)l.scalefac_band.l[s0]=j.sfBandIndex[c0].l[s0];for(var s0=0;s0<u.PSFB21+1;s0++){var O0=(l.scalefac_band.l[22]-l.scalefac_band.l[21])/u.PSFB21,V0=l.scalefac_band.l[21]+s0*O0;l.scalefac_band.psfb21[s0]=V0}l.scalefac_band.psfb21[u.PSFB21]=576;for(var s0=0;s0<u.SBMAX_s+1;s0++)l.scalefac_band.s[s0]=j.sfBandIndex[c0].s[s0];for(var s0=0;s0<u.PSFB12+1;s0++){var O0=(l.scalefac_band.s[13]-l.scalefac_band.s[12])/u.PSFB12,V0=l.scalefac_band.s[12]+s0*O0;l.scalefac_band.psfb12[s0]=V0}l.scalefac_band.psfb12[u.PSFB12]=192,t.version==1?l.sideinfo_len=l.channels_out==1?21:36:l.sideinfo_len=l.channels_out==1?13:21,t.error_protection&&(l.sideinfo_len+=2),s(t),l.Class_ID=I;{var N0;for(N0=0;N0<19;N0++)l.nsPsy.pefirbuf[N0]=700*l.mode_gr*l.channels_out;t.ATHtype==-1&&(t.ATHtype=4)}switch(t.VBR){case b0.vbr_mt:t.VBR=b0.vbr_mtrh;case b0.vbr_mtrh:{t.useTemporal==null&&(t.useTemporal=!1),F.apply_preset(t,500-t.VBR_q*10,0),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),t.quality<5&&(t.quality=0),t.quality>5&&(t.quality=5),l.PSY.mask_adjust=t.maskingadjust,l.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?l.sfb21_extra=!1:l.sfb21_extra=t.out_samplerate>44e3,l.iteration_loop=new VBRNewIterationLoop(t0);break}case b0.vbr_rh:{F.apply_preset(t,500-t.VBR_q*10,0),l.PSY.mask_adjust=t.maskingadjust,l.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?l.sfb21_extra=!1:l.sfb21_extra=t.out_samplerate>44e3,t.quality>6&&(t.quality=6),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),l.iteration_loop=new VBROldIterationLoop(t0);break}default:{var C0;l.sfb21_extra=!1,t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),C0=t.VBR,C0==b0.vbr_off&&(t.VBR_mean_bitrate_kbps=t.brate),F.apply_preset(t,t.VBR_mean_bitrate_kbps,0),t.VBR=C0,l.PSY.mask_adjust=t.maskingadjust,l.PSY.mask_adjust_short=t.maskingadjust_short,C0==b0.vbr_off?l.iteration_loop=new me(t0):l.iteration_loop=new ABRIterationLoop(t0);break}}if(t.VBR!=b0.vbr_off){if(l.VBR_min_bitrate=1,l.VBR_max_bitrate=14,t.out_samplerate<16e3&&(l.VBR_max_bitrate=8),t.VBR_min_bitrate_kbps!=0&&(t.VBR_min_bitrate_kbps=d(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),l.VBR_min_bitrate=M(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),l.VBR_min_bitrate<0)||t.VBR_max_bitrate_kbps!=0&&(t.VBR_max_bitrate_kbps=d(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),l.VBR_max_bitrate=M(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),l.VBR_max_bitrate<0))return-1;t.VBR_min_bitrate_kbps=Z.bitrate_table[t.version][l.VBR_min_bitrate],t.VBR_max_bitrate_kbps=Z.bitrate_table[t.version][l.VBR_max_bitrate],t.VBR_mean_bitrate_kbps=Math.min(Z.bitrate_table[t.version][l.VBR_max_bitrate],t.VBR_mean_bitrate_kbps),t.VBR_mean_bitrate_kbps=Math.max(Z.bitrate_table[t.version][l.VBR_min_bitrate],t.VBR_mean_bitrate_kbps)}return t.tune&&(l.PSY.mask_adjust+=t.tune_value_a,l.PSY.mask_adjust_short+=t.tune_value_a),o(t),t.athaa_type<0?l.ATH.useAdjust=3:l.ATH.useAdjust=t.athaa_type,l.ATH.aaSensitivityP=Math.pow(10,t.athaa_sensitivity/-10),t.short_blocks==null&&(t.short_blocks=Z0.short_block_allowed),t.short_blocks==Z0.short_block_allowed&&(t.mode==p0.JOINT_STEREO||t.mode==p0.STEREO)&&(t.short_blocks=Z0.short_block_coupled),t.quant_comp<0&&(t.quant_comp=1),t.quant_comp_short<0&&(t.quant_comp_short=0),t.msfix<0&&(t.msfix=0),t.exp_nspsytune=t.exp_nspsytune|1,t.internal_flags.nsPsy.attackthre<0&&(t.internal_flags.nsPsy.attackthre=G1.NSATTACKTHRE),t.internal_flags.nsPsy.attackthre_s<0&&(t.internal_flags.nsPsy.attackthre_s=G1.NSATTACKTHRE_S),t.scale<0&&(t.scale=1),t.ATHtype<0&&(t.ATHtype=4),t.ATHcurve<0&&(t.ATHcurve=4),t.athaa_loudapprox<0&&(t.athaa_loudapprox=2),t.interChRatio<0&&(t.interChRatio=0),t.useTemporal==null&&(t.useTemporal=!0),l.slot_lag=l.frac_SpF=0,t.VBR==b0.vbr_off&&(l.slot_lag=l.frac_SpF=(t.version+1)*72e3*t.brate%t.out_samplerate|0),j.iteration_init(t),i0.psymodel_init(t),0};function a(t,l){(t.in_buffer_0==null||t.in_buffer_nsamples<l)&&(t.in_buffer_0=v0(l),t.in_buffer_1=v0(l),t.in_buffer_nsamples=l)}this.lame_encode_flush=function(t,l,P,W){var r0=t.internal_flags,o0=D1([2,1152]),h0=0,f0,S0,c0,s0,O0=r0.mf_samples_to_encode-u.POSTDELAY,V0=_(t);if(r0.mf_samples_to_encode<1)return 0;for(f0=0,t.in_samplerate!=t.out_samplerate&&(O0+=16*t.out_samplerate/t.in_samplerate),c0=t.framesize-O0%t.framesize,c0<576&&(c0+=t.framesize),t.encoder_padding=c0,s0=(O0+c0)/t.framesize;s0>0&&h0>=0;){var N0=V0-r0.mf_size,C0=t.frameNum;N0*=t.in_samplerate,N0/=t.out_samplerate,N0>1152&&(N0=1152),N0<1&&(N0=1),S0=W-f0,W==0&&(S0=0),h0=this.lame_encode_buffer(t,o0[0],o0[1],N0,l,P,S0),P+=h0,f0+=h0,s0-=C0!=t.frameNum?1:0}if(r0.mf_samples_to_encode=0,h0<0||(S0=W-f0,W==0&&(S0=0),n0.flush_bitstream(t),h0=n0.copy_buffer(r0,l,P,S0,1),h0<0))return h0;if(P+=h0,f0+=h0,S0=W-f0,W==0&&(S0=0),t.write_id3tag_automatic){if(K.id3tag_write_v1(t),h0=n0.copy_buffer(r0,l,P,S0,0),h0<0)return h0;f0+=h0}return f0},this.lame_encode_buffer=function(t,l,P,W,r0,o0,h0){var f0=t.internal_flags,S0=[null,null];if(f0.Class_ID!=I)return-3;if(W==0)return 0;a(f0,W),S0[0]=f0.in_buffer_0,S0[1]=f0.in_buffer_1;for(var c0=0;c0<W;c0++)S0[0][c0]=l[c0],f0.channels_in>1&&(S0[1][c0]=P[c0]);return i(t,S0[0],S0[1],W,r0,o0,h0)};function _(t){var l=u.BLKSIZE+t.framesize-u.FFTOFFSET;return l=Math.max(l,512+t.framesize-32),l}function i(t,l,P,W,r0,o0,h0){var f0=t.internal_flags,S0=0,c0,s0,O0,V0,N0,C0=[null,null],D0=[null,null];if(f0.Class_ID!=I)return-3;if(W==0)return 0;if(N0=n0.copy_buffer(f0,r0,o0,h0,0),N0<0)return N0;if(o0+=N0,S0+=N0,D0[0]=l,D0[1]=P,P0.NEQ(t.scale,0)&&P0.NEQ(t.scale,1))for(s0=0;s0<W;++s0)D0[0][s0]*=t.scale,f0.channels_out==2&&(D0[1][s0]*=t.scale);if(P0.NEQ(t.scale_left,0)&&P0.NEQ(t.scale_left,1))for(s0=0;s0<W;++s0)D0[0][s0]*=t.scale_left;if(P0.NEQ(t.scale_right,0)&&P0.NEQ(t.scale_right,1))for(s0=0;s0<W;++s0)D0[1][s0]*=t.scale_right;if(t.num_channels==2&&f0.channels_out==1)for(s0=0;s0<W;++s0)D0[0][s0]=.5*(D0[0][s0]+D0[1][s0]),D0[1][s0]=0;V0=_(t),C0[0]=f0.mfbuf[0],C0[1]=f0.mfbuf[1];for(var G0=0;W>0;){var W0=[null,null],h1=0,a1=0;W0[0]=D0[0],W0[1]=D0[1];var $0=new h;if($(t,C0,W0,G0,W,$0),h1=$0.n_in,a1=$0.n_out,f0.findReplayGain&&!f0.decode_on_the_fly&&G.AnalyzeSamples(f0.rgdata,C0[0],f0.mf_size,C0[1],f0.mf_size,a1,f0.channels_out)==w0.GAIN_ANALYSIS_ERROR)return-6;if(W-=h1,G0+=h1,f0.channels_out==2,f0.mf_size+=a1,f0.mf_samples_to_encode<1&&(f0.mf_samples_to_encode=u.ENCDELAY+u.POSTDELAY),f0.mf_samples_to_encode+=a1,f0.mf_size>=V0){var _1=h0-S0;if(h0==0&&(_1=0),c0=n(t,C0[0],C0[1],r0,o0,_1),c0<0)return c0;for(o0+=c0,S0+=c0,f0.mf_size-=t.framesize,f0.mf_samples_to_encode-=t.framesize,O0=0;O0<f0.channels_out;O0++)for(s0=0;s0<f0.mf_size;s0++)C0[O0][s0]=C0[O0][s0+t.framesize]}}return S0}function n(t,l,P,W,r0,o0){var h0=x.enc.lame_encode_mp3_frame(t,l,P,W,r0,o0);return t.frameNum++,h0}function h(){this.n_in=0,this.n_out=0}function f(){this.num_used=0}function V(t,l){return l!=0?V(l,t%l):t}function w(t,l,P){var W=Math.PI*l;t/=P,t<0&&(t=0),t>1&&(t=1);var r0=t-.5,o0=.42-.5*Math.cos(2*t*Math.PI)+.08*Math.cos(4*t*Math.PI);return Math.abs(r0)<1e-9?W/Math.PI:o0*Math.sin(P*W*r0)/(Math.PI*P*r0)}function N(t,l,P,W,r0,o0,h0,f0,S0){var c0=t.internal_flags,s0,O0=0,V0,N0=t.out_samplerate/V(t.out_samplerate,t.in_samplerate);N0>H0.BPC&&(N0=H0.BPC);var C0=Math.abs(c0.resample_ratio-Math.floor(.5+c0.resample_ratio))<1e-4?1:0,D0=1/c0.resample_ratio;D0>1&&(D0=1);var G0=31;G0%2==0&&--G0,G0+=C0;var W0=G0+1;if(c0.fill_buffer_resample_init==0){for(c0.inbuf_old[0]=v0(W0),c0.inbuf_old[1]=v0(W0),s0=0;s0<=2*N0;++s0)c0.blackfilt[s0]=v0(W0);for(c0.itime[0]=0,c0.itime[1]=0,O0=0;O0<=2*N0;O0++){var h1=0,a1=(O0-N0)/(2*N0);for(s0=0;s0<=G0;s0++)h1+=c0.blackfilt[O0][s0]=w(s0-a1,D0,G0);for(s0=0;s0<=G0;s0++)c0.blackfilt[O0][s0]/=h1}c0.fill_buffer_resample_init=1}var $0=c0.inbuf_old[S0];for(V0=0;V0<W;V0++){var _1,R1;if(_1=V0*c0.resample_ratio,O0=0|Math.floor(_1-c0.itime[S0]),G0+O0-G0/2>=h0)break;var a1=_1-c0.itime[S0]-(O0+.5*(G0%2));R1=0|Math.floor(a1*2*N0+N0+.5);var M1=0;for(s0=0;s0<=G0;++s0){var f1=0|s0+O0-G0/2,z0;z0=f1<0?$0[W0+f1]:r0[o0+f1],M1+=z0*c0.blackfilt[R1][s0]}l[P+V0]=M1}if(f0.num_used=Math.min(h0,G0+O0-G0/2),c0.itime[S0]+=f0.num_used-V0*c0.resample_ratio,f0.num_used>=W0)for(s0=0;s0<W0;s0++)$0[s0]=r0[o0+f0.num_used+s0-W0];else{var S1=W0-f0.num_used;for(s0=0;s0<S1;++s0)$0[s0]=$0[s0+f0.num_used];for(O0=0;s0<W0;++s0,++O0)$0[s0]=r0[o0+O0]}return V0}function $(t,l,P,W,r0,o0){var h0=t.internal_flags;if(h0.resample_ratio<.9999||h0.resample_ratio>1.0001)for(var f0=0;f0<h0.channels_out;f0++){var S0=new f;o0.n_out=N(t,l[f0],h0.mf_size,t.framesize,P[f0],W,r0,S0,f0),o0.n_in=S0.num_used}else{o0.n_out=Math.min(t.framesize,r0),o0.n_in=o0.n_out;for(var c0=0;c0<o0.n_out;++c0)l[0][h0.mf_size+c0]=P[0][W+c0],h0.channels_out==2&&(l[1][h0.mf_size+c0]=P[1][W+c0])}}}function Be(){var x,D;this.setModules=function(J,G){x=J,D=G}}function Te(){var x,D,J;this.setModules=function(G,n0,F){x=G,D=n0,J=F}}function ye(){}function we(){var x,D;this.setModules=function(J,G){x=J,D=G}}function Ie(x,D,J){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),x=1,D=44100,J=128);var G=new T0,n0=new Be,F=new w0,j=new P0,t0=new oe,i0=new U0,O=new Ae,H=new I1,K=new ve,y=new we,p=new he,e=new w1,A=new Te,I=new ye;G.setModules(F,j,t0,i0,O,H,K,y,I),j.setModules(F,I,K,H),y.setModules(j,K),t0.setModules(G),O.setModules(j,p,i0,e),i0.setModules(e,p,G.enc.psy),p.setModules(j),e.setModules(i0),H.setModules(G,j,K),n0.setModules(A,I),A.setModules(K,y,t0);var R=G.lame_init();R.num_channels=x,R.in_samplerate=D,R.brate=J,R.mode=p0.STEREO,R.quality=3,R.bWriteVbrTag=!1,R.disable_reservoir=!0,R.write_id3tag_automatic=!1;var v=G.lame_init_params(R),m=1152,b=0|1.25*m+7200,d=u1(b);this.encodeBuffer=function(M,r){x==1&&(r=M),M.length>m&&(m=M.length,b=0|1.25*m+7200,d=u1(b));var E=G.lame_encode_buffer(R,M,r,M.length,d,0,b);return new Int8Array(d.subarray(0,E))},this.flush=function(){var M=G.lame_encode_flush(R,d,0,b);return new Int8Array(d.subarray(0,M))}}function n1(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function F1(x){return x.charCodeAt(0)<<24|x.charCodeAt(1)<<16|x.charCodeAt(2)<<8|x.charCodeAt(3)}n1.RIFF=F1("RIFF"),n1.WAVE=F1("WAVE"),n1.fmt_=F1("fmt "),n1.data=F1("data"),n1.readHeader=function(x){var D=new n1,J=x.getUint32(0,!1);if(n1.RIFF==J){var G=x.getUint32(4,!0);if(n1.WAVE==x.getUint32(8,!1)&&n1.fmt_==x.getUint32(12,!1)){var n0=x.getUint32(16,!0),F=20;switch(n0){case 16:case 18:D.channels=x.getUint16(F+2,!0),D.sampleRate=x.getUint32(F+4,!0);break;default:throw"extended fmt chunk not implemented"}F+=n0;for(var j=n1.data,t0=0;j!=J&&(J=x.getUint32(F,!1),t0=x.getUint32(F+4,!0),j!=J);)F+=t0+8;return D.dataLen=t0,D.dataOffset=F+8,D}}},s1.SFBMAX=u.SBMAX_s*3,lamejs.Mp3Encoder=Ie,lamejs.WavHeader=n1}lamejs();
