<nav class="module-nav" role="navigation" aria-label="Navigation des modules">
  <div class="module-nav__container">
    <div class="module-nav__tabs">
      @for (item of navItems; track item.route) {
        <a
          [routerLink]="item.route"
          routerLinkActive="module-nav__tab--active"
          class="module-nav__tab"
          [attr.aria-label]="'Aller au module ' + item.label"
        >
          {{ item.label }}
        </a>
      }
    </div>

    <!-- Bouton hamburger pour favoris (visible uniquement sur audio-looper) -->
    @if (isAudioLooperRoute()) {
      <button
        class="module-nav__favorites-btn"
        type="button"
        (click)="onOpenFavorites()"
        [title]="'Mes favoris (' + favoritesCount() + ')'"
        aria-label="Ouvrir le menu des favoris">
        <svg class="hamburger-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        @if (favoritesCount() > 0) {
          <span class="favorites-badge">{{ favoritesCount() }}</span>
        }
      </button>
    }
  </div>
</nav>
