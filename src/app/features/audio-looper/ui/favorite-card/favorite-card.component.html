<div class="favorite-card" (click)="onCardClick()">
  <!-- Informations -->
  <div class="card-info">
    <div class="card-header">
      <h3 class="file-name" [title]="favorite().fileName">{{ favorite().fileName }}</h3>

      <!-- Actions discrètes -->
      <div class="card-actions">
        <button type="button" class="btn-play" (click)="onPlay($event)" title="Lecture">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 5v14l11-7L8 5z" fill="currentColor"/>
          </svg>
        </button>
        <button type="button" class="btn-delete" (click)="onDelete($event)" title="Supprimer">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Métadonnées -->
    <div class="metadata">
      <span class="duration">{{ formattedDuration() }}</span>
      <span class="separator">•</span>
      <span class="date">{{ formattedDate() }}</span>
      <span class="separator">•</span>
      <span class="size">{{ formattedSize() }}</span>
    </div>

    <!-- Badges des réglages -->
    @if (hasActivePitch() || hasActiveSpeed() || hasActiveLoop()) {
      <div class="settings-badges">
        @if (hasActivePitch()) {
          <span class="badge badge-pitch">
            Pitch {{ favorite().settings.pitch > 0 ? '+' : '' }}{{ favorite().settings.pitch }}
          </span>
        }
        @if (hasActiveSpeed()) {
          <span class="badge badge-speed">
            {{ favorite().settings.playbackRate }}x
          </span>
        }
        @if (hasActiveLoop()) {
          <span class="badge badge-loop">
            Loop
          </span>
        }
      </div>
    }
  </div>
</div>
